"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@elrondnetwork/erdjs"),n=require("@reduxjs/toolkit"),r=require("redux-persist"),a=e(require("moment")),o=e(require("lodash.omit")),s=e(require("bignumber.js")),i=e(require("lodash.throttle")),c=e(require("lodash.isequal")),l=require("reselect"),u=require("@elrondnetwork/erdjs/out"),d=require("react"),p=e(d),m=require("react-redux"),f=require("redux-persist/integration/react"),g=e(require("axios")),h=e(require("qs")),v=require("react-idle-timer"),b=require("@elrondnetwork/erdjs/out/signature"),x=require("react-bootstrap"),w=e(require("classnames")),y=e(require("lodash.debounce"));function E(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){E(o,r,a,s,i,"next",e)}function i(e){E(o,r,a,s,i,"throw",e)}s(void 0)}))}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,A,M,R,D,B,_,O=(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=Object.create((t&&t.prototype instanceof d?t:d).prototype),o=new k(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var i=w(s,n);if(i){if(i===u)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function p(){}function m(){}var f={};i(f,a,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(T([])));h&&h!==t&&n.call(h,a)&&(f=h);var v=m.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var r;this._invoke=function(a,o){function s(){return new t((function(r,s){!function r(a,o,s,i){var c=l(e[a],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}(a,o,r,s)}))}return r=r?r.then(s,s):s()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m,i(v,"constructor",m),i(m,"constructor",p),p.displayName=i(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),i(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var s=new x(c(t,n,r,a),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),i(v,s,"Generator"),i(v,a,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(_={exports:{}}),_.exports),P="You need a signer/valid signer to send a transaction,use either WalletProvider, LedgerProvider or WalletConnect",F={devnet:{id:"devnet",chainId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletAddress:"https://devnet-wallet.elrond.com",apiAddress:"https://devnet-api.elrond.com",explorerAddress:"http://devnet-explorer.elrond.com",apiTimeout:"4000"},testnet:{id:"testnet",chainId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletAddress:"https://testnet-wallet.elrond.com",apiAddress:"https://testnet-api.elrond.com",explorerAddress:"http://testnet-explorer.elrond.com",apiTimeout:"4000"},mainnet:{id:"mainnet",chainId:"1",name:"Mainnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",explorerAddress:"https://explorer.elrond.com",apiTimeout:"4000"}},j={36864:{code:"codeSuccess",message:"Success"},27013:{code:"ERR_USER_DENIED",message:"Rejected by user"},27904:{code:"ERR_UNKNOWN_INSTRUCTION",message:"Unknown instruction"},28160:{code:"ERR_WRONG_CLA",message:"Wrong CLA"},28161:{code:"ERR_INVALID_ARGUMENTS",message:"Invalid arguments"},28162:{code:"ERR_INVALID_MESSAGE",message:"Invalid message"},28163:{code:"ERR_INVALID_P1",message:"Invalid P1"},28164:{code:"ERR_MESSAGE_TOO_LONG",message:"Message too long"},28165:{code:"ERR_RECEIVER_TOO_LONG",message:"Receiver too long"},28166:{code:"ERR_AMOUNT_TOO_LONG",message:"Amount too long"},28167:{code:"ERR_CONTRACT_DATA_DISABLED",message:"Contract data disabled in app options"},28168:{code:"ERR_MESSAGE_INCOMPLETE",message:"Message incomplete"},28176:{code:"ERR_SIGNATURE_FAILED",message:"Signature failed"},28169:{code:"ERR_WRONG_TX_VERSION",message:"Wrong TX version"},28170:{code:"ERR_NONCE_TOO_LONG",message:"Nonce too long"},28171:{code:"ERR_INVALID_AMOUNT",message:"Invalid amount"},28172:{code:"ERR_INVALID_FEE",message:"Invalid fee"},28173:{code:"ERR_PRETTY_FAILED",message:"Pretty failed"},28174:{code:"ERR_DATA_TOO_LONG",message:"Data too long"},28175:{code:"ERR_WRONG_TX_OPTIONS",message:"Invalid transaction options"},28177:{code:"ERR_SIGN_TX_DEPRECATED",message:"Regular transaction signing is deprecated in this version. Use hash signing."}},W={__proto__:null,errorsMessages:{__proto__:null,ERROR_SIGNING:"error when signing",TRANSACTION_CANCELLED:"Transaction cancelled",ERROR_SIGNING_TX:"error signing transaction",PROVIDER_NOT_INTIALIZED:"provider not intialized",MISSING_PROVIDER_MESSAGE:P},networkConstants:{__proto__:null,DEFAULT_MIN_GAS_LIMIT:5e4,configEndpoint:"dapp/config",fallbackNetworkConfigurations:F},ledgerErrorCodes:{__proto__:null,default:j},gasPriceModifier:"0.01",gasPerDataByte:"1500",gasLimit:"50000",gasPrice:1e9,denomination:18,decimals:4,version:1,ledgerContractDataEnabledValue:1,dappInitRoute:"/dapp/init",walletSignSession:"signSession"};(L=exports.TransactionServerStatusesEnum||(exports.TransactionServerStatusesEnum={})).pending="pending",L.fail="fail",L.invalid="invalid",L.success="success",L.executed="executed",L.completed="completed",(A=exports.TransactionBatchStatusesEnum||(exports.TransactionBatchStatusesEnum={})).signed="signed",A.cancelled="cancelled",A.success="success",A.sent="sent",A.fail="fail",A.timedOut="timedOut",(M=exports.LoginMethodsEnum||(exports.LoginMethodsEnum={})).ledger="ledger",M.walletconnect="walletconnect",M.wallet="wallet",M.extension="extension",M.extra="extra",M.none="",(R=exports.NotificationTypesEnum||(exports.NotificationTypesEnum={})).warning="warning",R.error="error",R.success="success",(D=exports.TypesOfSmartContractCallsEnum||(exports.TypesOfSmartContractCallsEnum={})).MultiESDTNFTTransfer="MultiESDTNFTTransfer",D.ESDTNFTTransfer="ESDTNFTTransfer",(B=exports.EnvironmentsEnum||(exports.EnvironmentsEnum={})).testnet="testnet",B.devnet="devnet",B.mainnet="mainnet";var z=function(e){switch(null==e?void 0:e.constructor){case t.WalletProvider:return exports.LoginMethodsEnum.wallet;case t.WalletConnectProvider:return exports.LoginMethodsEnum.walletconnect;case t.HWProvider:return exports.LoginMethodsEnum.ledger;case t.ExtensionProvider:return exports.LoginMethodsEnum.extension;case H:return exports.LoginMethodsEnum.none;default:return exports.LoginMethodsEnum.extra}},G=function(e){return new t.WalletProvider(e+"/dapp/init")},q=function(){var e=k(O.mark((function e(t){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isInitialized()){e.next=2;break}throw new Error("Unable to get version. Provider not initialized");case 2:return n=t.hwApp,e.next=5,n.getAppConfiguration();case 5:return e.abrupt("return",{version:(r=e.sent).version,dataEnabled:1===r.contractData});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){return"Unable to perform "+e+", Provider not initialized"},H=function(){function e(){}var t=e.prototype;return t.init=function(){var e=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.login=function(e){throw new Error(U("login with options: "+e))},t.logout=function(){var e=k(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("logout with options: "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getAddress=function(){var e=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("getAddress"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.isInitialized=function(){return!1},t.isConnected=function(){var e=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.sendTransaction=function(){var e=k(O.mark((function e(t,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("sendTransaction with transactions: "+t+" options: "+n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.signTransaction=function(){var e=k(O.mark((function e(t,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("signTransaction with transactions: "+t+" options: "+n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.signTransactions=function(){var e=k(O.mark((function e(t,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("signTransactions with transactions: "+t+" options: "+n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.signMessage=function(){var e=k(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(U("signTransactions with "+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}(),V=new H,Z=V,K=null;function Y(e){Z=e}function J(e){K=e}function X(){return Z||V}var $=n.createAction("logout"),Q=n.createAction("login",(function(e){return{payload:e}})),ee={loginExpiresAt:"dapp-core-login-expires-at"},te="undefined"!=typeof localStorage,ne={__proto__:null,localStorageKeys:ee,setItem:function(e){var t=e.data,n=e.expires;te&&localStorage.setItem(String(e.key),JSON.stringify({expires:n,data:t}))},getItem:function(e){if(te){var t=localStorage.getItem(String(e));if(!t)return null;var n=JSON.parse(t);return n&&n.hasOwnProperty("expires")&&n.hasOwnProperty("data")?a().unix()>=n.expires?(localStorage.removeItem(String(e)),null):n.data:null}},removeItem:function(e){te&&localStorage.removeItem(String(e))}},re={};try{re=require("moment")}catch(e){}var ae=re,oe=function(e){var t=e.data,n=e.expires;sessionStorage.setItem(String(e.key),JSON.stringify({expires:n,data:t}))},se=function(e){var t=sessionStorage.getItem(String(e));if(!t)return null;var n=JSON.parse(t);return n&&n.hasOwnProperty("expires")&&n.hasOwnProperty("data")?ae().unix()>=n.expires?(sessionStorage.removeItem(String(e)),null):n.data:null},ie=function(e){return sessionStorage.removeItem(String(e))},ce=function(){return sessionStorage.clear()},le={setItem:oe,getItem:se,removeItem:ie,clear:ce},ue={session:{__proto__:null,setItem:oe,getItem:se,removeItem:ie,clear:ce,storage:le,default:le},local:ne};function de(){return(new Date).setHours((new Date).getHours()+24)}function pe(e){ue.local.setItem({key:ee.loginExpiresAt,data:e,expires:e})}var me={loginMethod:exports.LoginMethodsEnum.none,walletConnectLogin:null,ledgerLogin:null,tokenLogin:null,walletLogin:null,extensionLogin:null},fe=n.createSlice({name:"loginInfoSlice",initialState:me,reducers:{setLoginMethod:function(e,t){e.loginMethod=t.payload},setTokenLogin:function(e,t){e.tokenLogin=t.payload},setTokenLoginSignature:function(e,t){null!=(null==e?void 0:e.tokenLogin)&&(e.tokenLogin.signature=t.payload)},setWalletLogin:function(e,t){e.walletLogin=t.payload},setWalletConnectLogin:function(e,t){e.walletConnectLogin=t.payload},setLedgerLogin:function(e,t){e.ledgerLogin=t.payload}},extraReducers:function(e){e.addCase($,(function(){return me})),e.addCase(Q,(function(e,t){e.loginMethod=t.payload.loginMethod,pe(de())}))}}),ge=fe.actions,he=ge.setWalletConnectLogin,ve=ge.setLedgerLogin,be=ge.setTokenLogin,xe=ge.setTokenLoginSignature,we=ge.setWalletLogin,ye=fe.reducer;function Ee(e,t){t&&null!=e&&setTimeout((function(){window.location.pathname.includes(e)||(window.location.href=e)}),200)}function ke(e){var t=null;if((null==e?void 0:e.statusCode)in j){var n=null==e?void 0:e.statusCode;t=28161===n?"Check if Elrond app is open on Ledger":j[n].message}return{errorMessage:t,defaultErrorMessage:"Check if Elrond app is open on Ledger"}}var Te,Se={id:"not-configured",chainId:"",name:"NOT CONFIGURED",egldLabel:"",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletConnectDeepLink:"",walletConnectBridgeAddress:"",walletAddress:"",apiAddress:"",explorerAddress:"",apiTimeout:"4000"},Ne=n.createSlice({name:"appConfig",initialState:{network:Se,chainID:"-1"},reducers:{initializeNetworkConfig:function(e,t){var n,r=(n=t.payload.walletConnectBridgeAddresses)[Math.floor(Math.random()*n.length)],a=o(t.payload,"walletConnectBridgeAddresses");e.network=T({},e.network,a,{walletConnectBridgeAddress:r})},setChainID:function(e,t){e.chainID=t.payload}}}),Ie=Ne.actions,Ce=Ie.initializeNetworkConfig,Le=Ie.setChainID,Ae=Ne.reducer,Me={address:"",account:{balance:"...",address:"",nonce:0},ledgerAccount:null,publicKey:"",walletConnectAccount:null,isAccountLoading:!0,accountLoadingError:null},Re=n.createSlice({name:"accountInfoSlice",initialState:Me,reducers:{setAddress:function(e,n){var r=n.payload;e.address=r,e.publicKey=new t.Address(r).hex()},setAccount:function(e,t){e.account=t.payload,e.isAccountLoading=!1,e.accountLoadingError=null},setAccountNonce:function(e,t){e.account.nonce=t.payload},setAccountShard:function(e,t){e.shard=t.payload},setLedgerAccount:function(e,t){e.ledgerAccount=t.payload},updateLedgerAccount:function(e,t){null!=e.ledgerAccount&&(e.ledgerAccount.index=t.payload.index,e.ledgerAccount.address=t.payload.address)},setWalletConnectAccount:function(e,t){e.walletConnectAccount=t.payload},setIsAccountLoading:function(e,t){e.isAccountLoading=t.payload,e.accountLoadingError=null},setAccountLoadingError:function(e,t){e.accountLoadingError=t.payload,e.isAccountLoading=!1}},extraReducers:function(e){e.addCase($,(function(){return ue.local.removeItem(ee.loginExpiresAt),Me})),e.addCase(Q,(function(e,n){var r=n.payload.address;e.address=r,e.publicKey=new t.Address(r).hex()})),e.addCase(r.REHYDRATE,(function(e,t){var n;if(null!=(n=t.payload)&&n.account){var r=t.payload.account,a=r.shard,o=r.account,s=r.publicKey;e.address=r.address,e.shard=a,e.account=o,e.publicKey=s}}))}}),De=Re.actions,Be=De.setAccount,_e=De.setAccountNonce,Oe=De.setAccountShard,Pe=De.setLedgerAccount,Fe=De.updateLedgerAccount,je=De.setIsAccountLoading,We=De.setAccountLoadingError,ze=Re.reducer,Ge=[exports.TransactionBatchStatusesEnum.sent],qe=[exports.TransactionBatchStatusesEnum.success],Ue=[exports.TransactionBatchStatusesEnum.fail,exports.TransactionBatchStatusesEnum.cancelled,exports.TransactionBatchStatusesEnum.timedOut],He=[exports.TransactionBatchStatusesEnum.timedOut],Ve=[exports.TransactionServerStatusesEnum.pending],Ze=[exports.TransactionServerStatusesEnum.success],Ke=[exports.TransactionServerStatusesEnum.completed],Ye=[exports.TransactionServerStatusesEnum.fail,exports.TransactionServerStatusesEnum.invalid];function Je(e){return Ke.includes(e)}function Xe(e){return null!=e&&(tt(e)||ot(e))}function $e(e){return null!=e&&(nt(e)||st(e))}function Qe(e){return null!=e&&(rt(e)||it(e))}function et(e){return null!=e&&at(e)}function tt(e){return null!=e&&Ge.includes(e)}function nt(e){return null!=e&&qe.includes(e)}function rt(e){return null!=e&&Ue.includes(e)}function at(e){return null!=e&&He.includes(e)}function ot(e){return null!=e&&Ve.includes(e)}function st(e){return null!=e&&Ze.includes(e)}function it(e){return null!=e&&Ye.includes(e)}function ct(e){var t=e;try{var n=Buffer.from(e,"hex").toString().trim();(function(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0})(n)&&n.length>1&&(t=n)}catch(e){}return t}function lt(e){try{return Buffer.from(e,"base64").toString()===atob(e)}catch(e){return!1}}function ut(e){var t=[],n=0;try{if(null!=e&&e.startsWith(exports.TransactionTypesEnum.MultiESDTNFTTransfer)&&null!=e&&e.includes("@")){var r=null==e?void 0:e.split("@"),a=r[1],o=r[2],i=r.slice(3);if(a){for(var c=new s(o,16).toNumber(),l=0,u=0;u<c;u++){for(var d={type:exports.TransactionTypesEnum.nftTransaction,data:"",receiver:a},p=0;p<3;p++){switch(p){case 0:d.token=ct(i[l]),d.data=i[l];break;case 1:var m=i[l]&&i[l].length?i[l]:"";m?d.nonce=m:d.type=exports.TransactionTypesEnum.esdtTransaction,d.data=d.data+"@"+i[l];break;case 2:d.amount=new s(i[l],16).toString(10),d.data=d.data+"@"+i[l]}n=l+1,l++}t[u]=d}var f=t.length!==c,g=t.some((function(e){return 2!==function(e,t){for(var n=[],r=e.indexOf("@",0);r>=0;)n.push(r),r=e.indexOf("@",r+1);return n}(e.data).length})),h=t.some((function(e){return e.data.startsWith("@")}));if(f||g||h)return[];if(i[n]){for(var v=i[n],b=n+1;b<i.length;b++)v+="@"+i[b];t[c]={type:exports.TransactionTypesEnum.scCall,data:v,receiver:a}}}}}catch(e){return console.error("failed parsing tx",e),t}return t}function dt(e){return(null==e?void 0:e.startsWith("erd"))&&62===e.length&&/^\w+$/.test(e)&&function(e){try{var n=new t.Address(e);return Boolean(n.bech32())}catch(e){return!1}}(e)}(Te=exports.TransactionTypesEnum||(exports.TransactionTypesEnum={})).MultiESDTNFTTransfer="MultiESDTNFTTransfer",Te.ESDTTransfer="ESDTTransfer",Te.ESDTNFTTransfer="ESDTNFTTransfer",Te.esdtTransaction="esdtTransaction",Te.nftTransaction="nftTransaction",Te.scCall="scCall";var pt={tokenId:"",amount:""};function mt(e){if(!e)return pt;var n=e.startsWith(exports.TransactionTypesEnum.ESDTTransfer),r=e.startsWith(exports.TransactionTypesEnum.ESDTNFTTransfer)&&e.includes("@");if(n){var a=e.split("@"),o=a[1],i=a[2];try{var c=Buffer.from(o,"hex").toString("ascii");return c?{tokenId:c,amount:new s("0x"+i.replace("0x","")).toString(10)}:pt}catch(e){}}if(r)try{var l=function(e){var t=2,n=3;return e.split("@").map((function(e,r){return[t,n].includes(r)?e:ct(e)}))}(e),u=l[1],d=l[2],p=l[3],m=l[4];if([u,d,p,m].every((function(e){return Boolean(e)}))&&dt(new t.Address(m).bech32()))return{tokenId:u+"-"+d,amount:new s(p,16).toString(10),collection:u,nonce:d,receiver:new t.Address(m).bech32()}}catch(e){}return pt}function ft(e){var t=e.tokenId;return Boolean(t&&t!==e.erdLabel)}function gt(e){var t=e.callbackUrl,n=e.urlParams,r=void 0===n?{}:n,a=t;if(Object.entries(r).length>0){var o=new URL(t);a=""+o.origin+o.pathname+"?"+function(e,t){var n=new URLSearchParams(e),r=Object.fromEntries(n);return{nextUrlParams:new URLSearchParams(T({},r,t)).toString(),params:r}}(o.search,r).nextUrlParams}return a}function ht(e,n){void 0===n&&(n=!1),n&&(e.version=t.TransactionVersion.withTxHashSignVersion(),e.options=t.TransactionOptions.withTxHashSignOptions());var r=e.toPlainObject();return r.hash=e.getHash().toString(),r.status=exports.TransactionServerStatusesEnum.pending,r}var vt={signedTransactions:{},transactionsToSign:null,signTransactionsError:null,customTransactionInformationForSessionId:{}},bt={signWithoutSending:!1,sessionInformation:null,redirectAfterSign:!1},xt=n.createSlice({name:"transactionsSlice",initialState:vt,reducers:{moveTransactionsToSignedState:function(e,t){var n,r,a=t.payload,o=a.sessionId,s=(null==(n=e.customTransactionInformationForSessionId)?void 0:n[o])||bt;e.signedTransactions[o]={transactions:a.transactions,status:a.status,errorMessage:a.errorMessage,customTransactionInformation:s},(null==e||null==(r=e.transactionsToSign)?void 0:r.sessionId)===o&&(e.transactionsToSign=vt.transactionsToSign)},clearSignedTransaction:function(e,t){e.signedTransactions[t.payload]&&delete e.signedTransactions[t.payload]},clearTransactionToSign:function(e){null!=e&&e.transactionsToSign&&(e.transactionsToSign=null)},updateSignedTransaction:function(e,t){e.signedTransactions=T({},e.signedTransactions,t.payload)},updateSignedTransactions:function(e,t){var n=t.payload,r=n.sessionId,a=n.errorMessage,o=n.transactions;null!=e.signedTransactions[r]&&(e.signedTransactions[r].status=n.status,null!=a&&(e.signedTransactions[r].errorMessage=a),null!=o&&(e.signedTransactions[r].transactions=o))},updateSignedTransactionStatus:function(e,t){var n,r,a=t.payload,o=a.sessionId,s=a.status,i=a.errorMessage,c=a.transactionHash,l=null==(n=e.signedTransactions)||null==(r=n[o])?void 0:r.transactions;if(null!=l){var u,d,p,m;e.signedTransactions[o].transactions=l.map((function(e){return e.hash===c?T({},e,{status:s,errorMessage:i}):e}));var f=null==(u=e.signedTransactions[o])||null==(d=u.transactions)?void 0:d.every((function(e){return Je(e.status)})),g=null==(p=e.signedTransactions[o])||null==(m=p.transactions)?void 0:m.every((function(e){return Qe(e.status)}));f&&(e.signedTransactions[o].status=exports.TransactionBatchStatusesEnum.success),g&&(e.signedTransactions[o].status=exports.TransactionBatchStatusesEnum.fail)}},setTransactionsToSign:function(e,t){e.transactionsToSign=t.payload;var n=t.payload;e.customTransactionInformationForSessionId[n.sessionId]=n.customTransactionInformation,e.signTransactionsError=null},clearAllTransactionsToSign:function(e){e.transactionsToSign=vt.transactionsToSign,e.signTransactionsError=null},clearAllSignedTransactions:function(e){e.signedTransactions=vt.signedTransactions},setSignTransactionsError:function(e,t){e.signTransactionsError=t.payload}},extraReducers:function(e){e.addCase($,(function(){return vt})),e.addCase(r.REHYDRATE,(function(e,t){var n;if(null!=(n=t.payload)&&n.transactions){var r=t.payload.transactions,a=r.signedTransactions,o=r.customTransactionInformationForSessionId,s=Object.entries(a).reduce((function(e,t){var n=t[0],r=t[1],a=new Date(n),o=new Date;return o.setHours(o.getHours()+5),o-a>0||(e[n]=r),e}),{});null!=o&&(e.customTransactionInformationForSessionId=o),null!=a&&(e.signedTransactions=s)}}))}}),wt=xt.actions,yt=wt.updateSignedTransactionStatus,Et=wt.updateSignedTransactions,kt=wt.setTransactionsToSign,Tt=wt.clearAllTransactionsToSign,St=wt.clearAllSignedTransactions,Nt=wt.clearSignedTransaction,It=wt.setSignTransactionsError,Ct=wt.moveTransactionsToSignedState,Lt=xt.reducer,At={},Mt=n.createSlice({name:"transactionsInfo",initialState:At,reducers:{setTransactionsDisplayInfo:function(e,t){var n=t.payload,r=n.sessionId,a=n.transactionsDisplayInfo;null!=r&&(e[r]={errorMessage:(null==a?void 0:a.errorMessage)||"Transaction failed",successMessage:(null==a?void 0:a.successMessage)||"Transaction successful",processingMessage:(null==a?void 0:a.processingMessage)||"Processing transaction",submittedMessage:(null==a?void 0:a.submittedMessage)||"Transaction submitted",transactionDuration:null==a?void 0:a.transactionDuration})},clearTransactionsInfoForSessionId:function(e,t){null!=t.payload&&delete e[t.payload]},clearTransactionsInfo:function(){return At}},extraReducers:function(e){e.addCase($,(function(){return At}))}}),Rt=Mt.actions,Dt=Rt.setTransactionsDisplayInfo,Bt=Rt.clearTransactionsInfoForSessionId,_t=Mt.reducer,Ot={},Pt=n.createSlice({name:"modalsSlice",initialState:Ot,reducers:{setTxSubmittedModal:function(e,t){e.txSubmittedModal=t.payload},setNotificationModal:function(e,t){e.notificationModal=t.payload},clearTxSubmittedModal:function(e){e.txSubmittedModal=void 0},clearNotificationModal:function(e){e.notificationModal=void 0}},extraReducers:function(e){e.addCase($,(function(){return Ot}))}}),Ft=Pt.actions,jt=Ft.setTxSubmittedModal,Wt=Ft.setNotificationModal,zt=Ft.clearNotificationModal,Gt=Pt.reducer,qt=l.createSelectorCreator(l.defaultMemoize,c),Ut=function(e){return e.account},Ht=qt(Ut,(function(e){return e.address})),Vt=qt(Ut,(function(e){return e.account})),Zt=qt(Vt,(function(e){return e.balance})),Kt=qt(Vt,(function(e){var t;return(null==e||null==(t=e.nonce)?void 0:t.valueOf())||0})),Yt=qt(Ut,(function(e){return e.shard})),Jt=qt(Ut,(function(e){return e.ledgerAccount})),Xt=qt(Ut,(function(e){return e.isAccountLoading})),$t=function(e){return e.loginInfo},Qt=qt($t,(function(e){return e.loginMethod})),en=qt($t,Ht,(function(e,t){return e.loginMethod!=exports.LoginMethodsEnum.none&&Boolean(t)})),tn=qt($t,(function(e){return e.walletConnectLogin})),nn=qt($t,(function(e){return e.ledgerLogin})),rn=qt($t,(function(e){return e.walletLogin})),an=["logout"],on=i((function(){pe(de())}),5e3),sn=function(e){return function(t){return function(n){if(an.includes(n.type))return t(n);var r=e.getState(),a=ue.local.getItem(ee.loginExpiresAt);return en(r)?null==a?pe(de()):a-Date.now()<0?setTimeout(k(O.mark((function t(){var n;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=X(),console.log("session expired"),e.dispatch($()),t.prev=3,t.next=6,null==n?void 0:n.logout({callbackUrl:"/"});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.error("error logging out",t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])}))),1e3):(on(),t(n)):t(n)}}},cn={account:ze,networkConfig:Ae,loginInfo:ye,modals:Gt,transactions:Lt,transactionsInfo:_t};if("undefined"!=typeof window&&null!=window.localStorage){var ln=require("redux-persist/lib/storage/session").default,un={key:"dapp-core-transactionsInfo",version:1,storage:ln};cn.transactions=r.persistReducer({key:"dapp-core-transactions",version:1,storage:ln,blacklist:["transactionsToSign"]},Lt),cn.transactionsInfo=r.persistReducer(un,_t)}var dn,pn=n.combineReducers(cn),mn=pn,fn={2:function(e){return T({},e,{networkConfig:Se})}};"undefined"!=typeof window&&null!=(null==(dn=window)?void 0:dn.localStorage)&&(mn=r.persistReducer({key:"dapp-core-store",version:2,storage:require("redux-persist/lib/storage").default,whitelist:["account","loginInfo","toasts","modals","networkConfig"],migrate:r.createMigrate(fn,{debug:!1})},pn));var gn=n.configureStore({reducer:mn,middleware:function(e){return e({serializableCheck:{ignoredActions:[r.FLUSH,r.REHYDRATE,r.PAUSE,r.PERSIST,r.PURGE,r.REGISTER,"accountInfoSlice/setAccount","accountInfoSlice/setAccountNonce"],ignoredPaths:["payload.nonce","account.account.nonce"]}}).concat(sn)}}),hn=r.persistStore(gn),vn=function(e){return e.networkConfig},bn=qt(vn,(function(e){return new t.ChainID(e.chainID)})),xn=qt(vn,(function(e){return e.network.walletConnectBridgeAddress})),wn=qt(vn,(function(e){return e.network.walletConnectDeepLink})),yn=qt(vn,(function(e){return e.network})),En=qt(yn,(function(e){return e.apiAddress})),kn=qt(yn,(function(e){return e.egldLabel}));function Tn(e){var n,r,a,o=e.data,s=lt(o)?t.TransactionPayload.fromEncoded(o):new t.TransactionPayload(o);return new t.Transaction(T({value:t.Balance.fromString(e.value),data:s,nonce:new t.Nonce(e.nonce),receiver:new t.Address(e.receiver),sender:new t.Address(e.sender),gasLimit:new t.GasLimit(null!=(n=e.gasLimit)?n:"50000"),gasPrice:new t.GasPrice(null!=(r=e.gasPrice)?r:1e9),chainID:new t.ChainID(e.chainID),version:new t.TransactionVersion(null!=(a=e.version)?a:1)},e.options?{options:new t.TransactionOptions(e.options)}:{}))}var Sn=function(e){return e.transactions},Nn=qt(Sn,(function(e){return e.signedTransactions})),In=qt(Sn,(function(e){return e.signTransactionsError})),Cn=function(e){return function(t){return Object.entries(t).reduce((function(t,n){var r=n[0],a=n[1];return e(a.status)&&(t[r]=a),t}),{})}},Ln=qt(Nn,Cn(Xe)),An=qt(Nn,Cn($e)),Mn=qt(Nn,Cn(Je)),Rn=qt(Nn,Cn(Qe)),Dn=qt(Nn,Cn(et)),Bn=qt(Sn,(function(e){var t;return null==(null==e?void 0:e.transactionsToSign)?null:T({},e.transactionsToSign,{transactions:(null==e||null==(t=e.transactionsToSign)?void 0:t.transactions.map((function(e){return Tn(e)})))||[]})})),_n=qt(Nn,(function(e,t){return t}),(function(e,t){return null!=t&&(null==e?void 0:e[t])||{}})),On={errorMessage:"Transaction failed",successMessage:"Transaction successful",processingMessage:"Processing transaction"},Pn=qt((function(e){return e.transactionsInfo}),(function(e,t){return t}),(function(e,t){return null!=t&&(null==e?void 0:e[Number(t)])||On})),Fn=qt((function(e){return e.modals}),(function(e){return e.notificationModal}));function jn(){return en(gn.getState())}function Wn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=k(O.mark((function e(t,n){var r,a,o,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=X(),a=z(r),jn()&&r){e.next=5;break}return e.abrupt("return");case 5:return gn.dispatch($()),e.prev=6,o=a===exports.LoginMethodsEnum.wallet,s=o&&!t?window.location.origin:t,e.next=12,r.logout({callbackUrl:s});case 12:t&&a!==exports.LoginMethodsEnum.wallet&&("function"==typeof n?n(t):window.location.href=t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("error logging out",e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}var Gn=["default"];function qn(){var e=X();return z(e)}function Un(){return kn(gn.getState())}function Hn(e){return qn()===e}function Vn(){var e=window.location.search,t=gn.getState(),n=X(),r=Ht(t),a=en(t),o=rn(t);if(!n)throw"provider not initialized";return Hn(exports.LoginMethodsEnum.ledger)&&a?new Promise((function(e){e(r)})):Hn(exports.LoginMethodsEnum.none)||Hn(exports.LoginMethodsEnum.wallet)||Hn(exports.LoginMethodsEnum.extra)?new Promise((function(t){if(null!=o){var n=new URLSearchParams(e),s=Object.fromEntries(n);dt(s.address)&&t(s.address)}a&&t(r),t("")})):n.getAddress()}var Zn=null;function Kn(e){var n=e||yn(gn.getState());return Zn=new t.ProxyProvider(n.apiAddress,{timeout:Number(n.apiTimeout)})}function Yn(){return null==Zn?Kn():Zn}function Jn(e){return Xn.apply(this,arguments)}function Xn(){return(Xn=k(O.mark((function e(t){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Yn(),e.next=4,n.getAccount(new u.Address(t));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $n(){return($n=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yn().getNetworkConfig();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("error fetching network config"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Qn(e){return Jn(e)}function er(e){gn.dispatch(_e(e))}function tr(e){var t=gn.getState(),n=Kt(t);return e?n&&!isNaN(n)?Math.max(n,e.nonce.valueOf()):e.nonce.valueOf():n}function nr(e){return rr.apply(this,arguments)}function rr(){return(rr=k(O.mark((function e(t){var n,r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(r=t)&&(a=Vt(gn.getState()),r=a.address),e.next=4,Qn(r);case 4:if(null!=(o=e.sent)){e.next=7;break}throw"Could not read account, user not logged in";case 7:return e.abrupt("return",null==o||null==(n=o.balance)?void 0:n.toString());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ar=function(){var e=k(O.mark((function e(){var t,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return t=e.sent,e.prev=4,e.next=7,Qn(t);case 7:if(null==(n=e.sent)){e.next=12;break}return r={balance:n.balance.toString(),address:t,nonce:tr(n)},gn.dispatch(Be(r)),e.abrupt("return",r);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("Failed getting account ",e.t0);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),console.error("Failed getting address ",e.t1);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,19],[4,14]])})));return function(){return e.apply(this,arguments)}}();function or(){return sr.apply(this,arguments)}function sr(){return(sr=k(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=X())){e.next=3;break}throw"Provider not initialized";case 3:if(!t.isInitialized()){e.next=7;break}return e.abrupt("return",ar());case 7:return e.prev=7,e.next=10,t.init();case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.abrupt("return",ar());case 16:e.prev=16,e.t0=e.catch(7),console.error("Failed initializing provider ",e.t0);case 19:return e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})))).apply(this,arguments)}var ir=function(e){try{var t=parseInt("11",2),n=parseInt("01",2),r=Buffer.from(e,"hex"),a=r[31];if(function(e){var t=Buffer.from([0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);if(e.slice(0,t.length).equals(t))return!0;var n=Buffer.alloc(32).fill(0);return e.equals(n)}(r))return 4294967295;var o=a&t;return o>2&&(o=a&n),o}catch(e){return-1}};function cr(){return(cr=k(O.mark((function e(n){var r,a,o,s,i,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.message,a=n.callbackRoute,e.next=3,Vn();case 3:return o=e.sent,s=X(),i=""+window.location.origin+a,c=new t.SignableMessage({address:new t.Address(o),message:Buffer.from(r,"ascii")}),e.next=9,s.signMessage(c,{callbackUrl:encodeURIComponent(i)});case 9:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lr=function(e){var t=Math.log(.005),n=Math.log(2);return Math.exp(t+(n-t)/10*(e-0))},ur=function(e,t){void 0===t&&(t=!0);var n=String(e);if(!n.match(/^[-]?\d+$/))return!1;var r=new s(n),a=t?0:-1;return r.toString(10)===n&&r.comparedTo(0)>=a},dr=function(e){var t=e.split("."),n=t[0],r=t[1];if(r)for(;"0"===r.charAt(r.length-1);)r=r.slice(0,-1);var a=r?[n,r].join("."):n,o=new s(a);return o.toString(10)===a&&o.comparedTo(0)>=0},pr={isEsdt:!1,isNft:!1,isEgld:!1};function mr(e){var t=null==e?void 0:e.split("-").length;return T({},pr,2===t?{isEsdt:!0}:3===t?{isNft:!0}:{isEgld:!0})}function fr(e){return{if:function(t){return t?{then:function(t){return fr(t instanceof Function?t(e):t)}}:{then:function(){return fr(e)}}},then:function(t){return fr(t instanceof Function?t(e):t)},valueOf:function(){return e}}}function gr(e){var n=e.input,r=e.denomination,a=e.decimals,o=void 0===a?4:a,i=e.showLastNonZeroDecimal,c=void 0===i||i,l=e.showIsLessThanDecimalsLabel,u=void 0!==l&&l,d=e.addCommas,p=void 0!==d&&d,m=new t.Token({decimals:void 0===r?18:r});if("string"==typeof n&&!ur(n,!1))throw new Error("Invalid input");return fr(n).if("string"==typeof n).then((function(){return new t.Balance(m,0,new s(n)).toDenominated()})).if(n.constructor===t.Balance).then((function(){return n.toDenominated()})).then((function(e){var t=new s(e);if(t.isZero())return"0";var n=t.toString(10),r=n.split("."),a=r[0],i=r[1],l=new s(i||0),d=fr(0).if(Boolean(i&&c)).then((function(){return Math.max(i.length,o)})).if(l.isZero()&&!c).then(0).if(Boolean(i&&!c)).then((function(){return Math.min(i.length,o)})).valueOf(),m=i&&o>=1&&o<=i.length&&l.isGreaterThan(0)&&new s(i.substring(0,o)).isZero(),f=t.toFormat(d);return fr(n).if(p).then(f).if(Boolean(m)).then((function(e){var t=new s(a).isZero(),n=e.split("."),r=n[0],i=n[1],c=new Array(o-1).fill(0),l=[].concat(c,[0]).join(""),d=[].concat(c,[1]).join("");return t?u?"<"+r+"."+d:r+"."+i:r+"."+l})).if(Boolean(!m&&i)).then((function(e){if(c)return e;var t=e.split(".")[0],n=i.substring(0,d);return n?t+"."+n:t})).valueOf()})).valueOf()}function hr(e){var n=e.minGasLimit,r=void 0===n?"50000":n,a=e.gasLimit,o=e.gasPrice,s=e.gasPerDataByte,i=e.gasPriceModifier,c=e.defaultGasPrice,l=void 0===c?"1000000000":c,u=e.chainId,d=e.data||"",p=ur(a)?a:r,m=dr(o)?o:l,f=new t.Transaction({nonce:new t.Nonce(0),value:t.Balance.Zero(),receiver:new t.Address("erd12dnfhej64s6c56ka369gkyj3hwv5ms0y5rxgsk2k7hkd2vuk7rvqxkalsa"),gasPrice:new t.GasPrice(parseInt(m)),gasLimit:new t.GasLimit(parseInt(p)),data:new t.TransactionPayload(d.trim()),chainID:new t.ChainID(u),version:new t.TransactionVersion(1)}),g=new t.NetworkConfig;g.MinGasLimit=new t.GasLimit(parseInt(r)),g.GasPerDataByte=parseInt(s),g.GasPriceModifier=new t.GasPriceModifier(parseFloat(i));try{return f.computeFee(g).toString(10)}catch(e){return"0"}}s.config({ROUNDING_MODE:s.ROUND_FLOOR});var vr=function(e){var t=e.usd,n=e.decimals,r=void 0===n?2:n,a=(parseFloat(e.amount)*t).toFixed(r);return parseFloat(a).toLocaleString("en",{maximumFractionDigits:r,minimumFractionDigits:r})},br=["ESDTNFTTransfer","ESDTNFTBurn","ESDTNFTAddQuantity","ESDTNFTCreate","MultiESDTNFTTransfer","ESDTTransfer","ESDTBurn","ESDTLocalMint","ESDTLocalBurn","ESDTWipe","ESDTFreeze"];function xr(e,t,n){var r=null==n?void 0:n.split("@");if(null==r)return!1;var a=r[0],o=r.slice(1),s=null!=t&&null!=e&&e===t,i=br.includes(a),c=o.every((function(e){return e.toLowerCase().match(/[0-9a-f]/g)&&function(e){return e.length%2==0}(e)}));return s&&i&&c}function wr(e){var n=e.receiver,r=e.data;try{if(!r)return n;var a=lt(r)?t.TransactionPayload.fromEncoded(r).toString():r,o=function(e){return e.includes(exports.TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer)?1:e.includes(exports.TypesOfSmartContractCallsEnum.ESDTNFTTransfer)?4:-1}(a),s=a.split("@");return o>-1?s[o]:n}catch(e){return void console.log(e)}}var yr={};try{yr=require("classnames")}catch(e){}var Er=yr;function kr(e,t,n){return Object.entries(n).reduce((function(n,r){var a=r[0];return n[a]=null==Er?void 0:Er(e+"_"+a,t&&r[1]),n}),{})}var Tr="dapp-core-ui-component",Sr=p.createContext(null),Nr=m.createDispatchHook(Sr),Ir=m.createSelectorHook(Sr),Cr=function(e){var n=e.callbackRoute,r=e.token,a=e.redirectAfterLogin,o=void 0!==a&&a,s=d.useState(""),i=s[0],c=s[1],l=d.useState(!1),u=l[0],p=l[1],m=Ir(en),f=Nr();function g(){return(g=k(O.mark((function e(){var a,s,i,l,u,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),a=t.ExtensionProvider.getInstance(),e.prev=2,e.next=5,a.init();case 5:if(e.sent){e.next=9;break}return console.warn("Something went wrong trying to redirect to wallet login.."),e.abrupt("return");case 9:return s=encodeURIComponent(""+window.location.origin+n),i=T({callbackUrl:s},r&&{token:r}),e.next=13,a.login(i);case 13:Y(a),d=(l=a.account).address,(u=l.signature)&&f(be({loginToken:String(r),signature:u})),f(Q({address:d,loginMethod:exports.LoginMethodsEnum.extension})),Ee(n,o),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("error loging in",e.t0),c("error logging in"+e.t0.message);case 24:return e.prev=24,p(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[2,20,24,27]])})))).apply(this,arguments)}var h=Boolean(i);return[function(){return g.apply(this,arguments)},{loginFailed:h,error:i,isLoading:u&&!h,isLoggedIn:m&&!h}]},Lr=function(e){var t=e.callbackRoute,n=e.token,r=d.useState(""),a=r[0],o=r[1],s=d.useState(!1),i=s[1];function c(){return(c=k(O.mark((function e(){var r,a,s,c,l,u,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=gn.getState(),a=yn(r),s=G(a.walletAddress),c=new Date,l=c.setMinutes(c.getMinutes()+3)/1e3,gn.dispatch(we({data:{},expires:l})),u=encodeURIComponent(""+window.location.origin+t),d=T({callbackUrl:u},n&&{token:n}),e.next=13,s.login(d);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),o("error logging in"+e.t0.message);case 19:return e.prev=19,i(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,15,19,22]])})))).apply(this,arguments)}var l=null!=a;return[function(){return c.apply(this,arguments)},{error:a,loginFailed:l,isLoading:s[0]&&!l,isLoggedIn:Ir(en)&&!l}]},Ar="Could not initialise ledger app, make sure Elrond app is open";function Mr(e){var n=e.callbackRoute,r=e.token,a=e.addressesPerPage,o=void 0===a?10:a,s=e.redirectAfterLogin,i=void 0!==s&&s,c=Ir(Jt),l=Ir(en),u=Yn(),p=Nr(),m=d.useState(""),f=m[0],g=m[1],h=d.useState(!1),v=h[0],b=h[1],x=new t.HWProvider(u),w=d.useState(0),y=w[0],E=w[1],S=d.useState([]),N=S[0],I=S[1],C=d.useState(""),L=C[0],A=C[1],M=d.useState(!1),R=M[0],D=M[1],B=d.useState(null),_=B[0],P=B[1],F=d.useState(!1),j=F[0],W=F[1];function z(e){var t=e.address,a=e.index,o=e.signature;Y(e.provider),p(ve({index:a,loginType:exports.LoginMethodsEnum.ledger})),o&&p(be({loginToken:String(r),signature:o})),p(Q({address:t,loginMethod:exports.LoginMethodsEnum.ledger})),Ee(n,i)}var G=function(e,t){var n=ke(e).errorMessage;n&&g(n+t),b(!1),console.warn(e),p(Pe(null))};function U(e){return H.apply(this,arguments)}function H(){return(H=k(O.mark((function e(t){var n,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=_){e.next=2;break}return e.abrupt("return",!1);case 2:if(n=_.index,!r){e.next=16;break}return e.prev=4,e.next=7,t.tokenLogin({token:Buffer.from(r+"{}"),addressIndex:n});case 7:z({address:(a=e.sent).address,provider:t,index:n,signature:a.signature.hex()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),G(e.t0,". Update Elrond App to continue.");case 14:e.next=27;break;case 16:return e.prev=16,e.next=19,t.login({addressIndex:n});case 19:z({address:e.sent,provider:t,index:n}),e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(16),G(e.t1),e.abrupt("return",!1);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})))).apply(this,arguments)}function V(){return(V=k(O.mark((function e(){var n,r,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b(!0),null!=_){e.next=4;break}return e.abrupt("return",!1);case 4:return p(c?Fe(_):Pe(T({},_,{version:L,hasContractDataEnabled:R}))),n=new t.HWProvider(u),e.next=8,n.init();case 8:if(e.sent){e.next=13;break}return g(Ar),console.warn(Ar),e.abrupt("return",!1);case 13:return b(!1),e.next=16,U(n);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),r=ke(e.t0),(a=r.errorMessage)&&g(a),console.warn(Ar,e.t0);case 23:return e.prev=23,b(!1),e.finish(23);case 26:return W(!1),e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[0,18,23,26]])})))).apply(this,arguments)}function Z(){return K.apply(this,arguments)}function K(){return(K=k(O.mark((function e(){var t,n,r,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,x.init();case 4:if(e.sent){e.next=10;break}return g(Ar),console.warn(Ar),b(!1),e.abrupt("return");case 10:return e.next=12,x.getAccounts(y,o);case 12:return t=e.sent,e.next=15,q(x);case 15:A((n=e.sent).version),D(n.dataEnabled),I(t),b(!1),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(0),r=ke(e.t0),s=r.defaultErrorMessage,g(null!=(a=r.errorMessage)?a:s),console.error("error",e.t0),b(!1);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function J(){return(J=k(O.mark((function e(){var r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(""),e.prev=1,b(!0),null==c){e.next=19;break}return r=new t.HWProvider(u),e.next=7,r.init();case 7:if(e.sent){e.next=11;break}return console.warn(Ar),e.abrupt("return");case 11:return e.next=13,r.login({addressIndex:null==_?void 0:_.index});case 13:a=e.sent,Y(r),p(Q({address:a,loginMethod:exports.LoginMethodsEnum.ledger})),Ee(n,i),e.next=26;break;case 19:if(!((null==N?void 0:N.length)>0)){e.next=23;break}W(!0),e.next=26;break;case 23:return e.next=25,Z();case 25:W(!0);case 26:e.next=33;break;case 28:e.prev=28,e.t0=e.catch(1),console.error("error ",e.t0),o=ke(),g(o.defaultErrorMessage);case 33:return e.prev=33,b(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[1,28,33,36]])})))).apply(this,arguments)}d.useEffect((function(){Z()}),[y]);var X=Boolean(f);return[function(){return J.apply(this,arguments)},{loginFailed:X,isLoggedIn:l&&!X,error:f,isLoading:v&&!X},{accounts:N,showAddressList:j,startIndex:y,selectedAddress:_,version:L,contractDataEnabled:R,onGoToPrevPage:function(){P(null),E((function(e){return 0===e?0:e-1}))},onGoToNextPage:function(){P(null),E((function(e){return e+1}))},onSelectAddress:function(e){P(e)},onConfirmSelectedAddress:function(){return V.apply(this,arguments)}}]}function Rr(e,t){void 0===t&&(t=[]);var n=d.useRef(!0);d.useEffect((function(){n.current?n.current=!1:e()}),t)}var Dr,Br=function(e){var n,r=e.callbackRoute,a=e.logoutRoute,o=e.token,s=e.redirectAfterLogin,i=void 0!==s&&s,c=Nr(),l=d.useState(""),u=l[0],p=l[1],m=d.useState(""),f=m[0],g=m[1],h=Yn(),v=X(),b=Ir(xn),x=Ir(wn),w=Ir(en),y=d.useRef(v),E=Boolean(f),T=!E,S=E?x+"?wallet-connect="+encodeURIComponent(f):null;function N(){return I.apply(this,arguments)}function I(){return(I=k(O.mark((function e(){var t,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Boolean(null==(t=y.current)||null==(n=t.walletConnector)?void 0:n.connected)){e.next=3;break}return e.abrupt("return");case 3:return r={method:"heartbeat",params:{}},e.prev=4,e.next=7,y.current.sendCustomMessage(r);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.error("Connection lost",e.t0),A();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}function C(){return L.apply(this,arguments)}function L(){return(L=k(O.mark((function e(){var t,o,s,l,u,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=y.current,!w){e.next=4;break}return e.abrupt("return");case 4:if(null!=t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.getAddress();case 8:return o=e.sent,e.next=11,t.getSignature();case 11:s=e.sent,l=Boolean(s),u={address:o,loginMethod:exports.LoginMethodsEnum.walletconnect},d={logoutRoute:a,loginType:"walletConnect",callbackRoute:r},l?(c(he(d)),c(xe(s))):c(he(d)),c(Q(u)),t.walletConnector.on("heartbeat",(function(){clearInterval(n),n=setInterval((function(){console.log("Maiar Wallet Connection Lost"),A(),clearInterval(n)}),15e4)})),Ee(r,i),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),p("Invalid address"),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}d.useEffect((function(){N();var e=setInterval((function(){N()}),15e3);return function(){return clearInterval(e)}}),[v]),Rr((function(){R()}),[o]),Rr((function(){y.current=v}),[v]);var A=function(){Wn(a)};function M(){return(M=k(O.mark((function e(n){var r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),a=n&&!f,b&&(null==y||null==(r=y.current)||null==r.isInitialized||!r.isInitialized()||a)){e.next=4;break}return e.abrupt("return");case 4:return o=new t.WalletConnectProvider(h,b,{onClientLogin:C,onClientLogout:A}),e.next=8,o.init();case 8:Y(o),y.current=o,n&&R();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return D.apply(this,arguments)}function D(){return(D=k(O.mark((function e(){var t,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,null==(t=y.current)?void 0:t.login();case 4:if(n=e.sent,Boolean(n)){e.next=8;break}return e.abrupt("return");case 8:if(o){e.next=11;break}return g(n),e.abrupt("return");case 11:g(n+"&token="+o),c(be({loginToken:o}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=null!=u;return[function(e){return M.apply(this,arguments)},{error:u,loginFailed:B,isLoading:T&&!B,isLoggedIn:w&&!B},{uriDeepLink:S,walletConnectUri:f}]},_r={__proto__:null,useExtensionLogin:Cr,useWebWalletLogin:Lr,useLedgerLogin:Mr,useWalletConnectLogin:Br};function Or(e){var t=e.transactions,n=e.callbackRoute,r=e.minGasLimit,a=void 0===r?5e4:r,o=e.customTransactionInformation,i=e.transactionsDisplayInfo,c=gn.getState(),l=Date.now().toString(),u=Zt(c),d=bn(c),p=Array.isArray(t)?t:[t],m=function(e,t){var n=new s(0);return e.forEach((function(e){var r=hr({gasPerDataByte:"1500",gasPriceModifier:"0.01",minGasLimit:String(t),gasLimit:e.getGasLimit().valueOf().toString(),gasPrice:e.getGasPrice().valueOf().toString(),data:e.getData().toString(),chainId:e.getChainID().valueOf()});n=n.plus(new s(r))})),n}(p,a);if(!new s(dr(u)?u:"0").minus(m).isGreaterThan(0)){var f={type:exports.NotificationTypesEnum.warning,iconClassName:"text-warning",title:"Insufficient EGLD funds",description:"Current EGLD balance cannot cover the transaction fees."};return gn.dispatch(Wt(f)),{error:"insufficient funds",sessionId:null}}if(!(null==p?void 0:p.every((function(e){return e.getChainID().valueOf()===d.valueOf()})))){var g={type:exports.NotificationTypesEnum.warning,iconClassName:"text-warning",title:"Network change detected",description:"The application tried to change the transaction network"};return gn.dispatch(Wt(g)),{error:"Invalid ChainID",sessionId:null}}var h={sessionId:l,callbackRoute:n,customTransactionInformation:o,transactions:p.map((function(e){return e.toPlainObject()}))};return gn.dispatch(kt(h)),gn.dispatch(Dt({sessionId:l,transactionsDisplayInfo:i})),{sessionId:l}}function Pr(e){var t=new s("50000"),n=new s("1500"),r=e?n.times(Buffer.from(e).length):0;return t.plus(r).toString(10)}function Fr(e){return jr.apply(this,arguments)}function jr(){return(jr=k(O.mark((function e(n){var r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.transactions,a=Ht(gn.getState()),e.next=4,Qn(a);case 4:return o=tr(e.sent),e.abrupt("return",r.map((function(e){var n=e.value,r=e.receiver,s=e.data,i=void 0===s?"":s,c=e.chainID,l=e.version,u=e.options,d=e.gasPrice,p=void 0===d?1e9:d,m=e.gasLimit,f=void 0===m?Pr(e.data):m,g=r;try{g=new t.Address(r).hex()}catch(e){throw Dr.invalidReceiver}var h=bn(gn.getState()).valueOf().toString(),v=c||h;return Tn({value:n,receiver:g,data:i,gasPrice:p,gasLimit:Number(f),nonce:Number(o.valueOf().toString()),sender:new t.Address(a).hex(),chainID:v,version:l,options:u})})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e){return zr.apply(this,arguments)}function zr(){return(zr=k(O.mark((function e(t){var n,r,a,o,s,i,c,l,u,d,p,m,f;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transactions,r=t.transactionsDisplayInfo,o=void 0===(a=t.redirectAfterSign)||a,i=void 0===(s=t.callbackRoute)?window.location.pathname:s,c=t.signWithoutSending,l=t.completedTransactionsDelay,u=t.sessionInformation,d=t.minGasLimit,e.prev=1,p=Array.isArray(n)?n:[n],m=p.every((function(e){return null!=Object.getPrototypeOf(e).toPlainObject})),f=p,m){e.next=9;break}return e.next=8,Fr({transactions:p,minGasLimit:d});case 8:f=e.sent;case 9:return e.abrupt("return",Or({transactions:f,minGasLimit:d,callbackRoute:i,transactionsDisplayInfo:r,customTransactionInformation:{redirectAfterSign:o,completedTransactionsDelay:l,sessionInformation:u,signWithoutSending:c}}));case 12:return e.prev=12,e.t0=e.catch(1),console.error("error signing transaction",e.t0),e.abrupt("return",{error:e.t0,sessionId:null});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Gr(){var e=Ir(Ln),t=Object.entries(e);return{pendingTransactions:e,pendingTransactionsArray:t,hasPendingTransactions:(null==t?void 0:t.length)>0}}!function(e){e.invalidReceiver="Invalid Receiver address",e.unknownError="Unknown Error. Please check the transactions and try again"}(Dr||(Dr={}));var qr={tokenId:"",amount:"",type:"",multiTxData:"",receiver:""};function Ur(e){var t=e.transactions,n=d.useState({}),r=n[0],a=n[1],o=d.useState([]),s=o[0],i=o[1];function c(e,t){a((function(n){var r;return T({},n,((r={})[e]=t,r))}))}return d.useEffect((function(){!function(){if(t&&t.length>0){var e=[];t.forEach((function(t,n){var r=ut(t.getData().toString());if(r.length>0)r.forEach((function(n,r){var a={transaction:t,multiTxData:n.data,transactionIndex:r};c(n.data,{tokenId:n.token?n.token:"",amount:n.amount?n.amount:"",type:n.type,nonce:n.nonce?n.nonce:"",multiTxData:n.data,receiver:n.receiver}),e.push(a)}));else{var a=mt(t.getData().toString()),o=a.tokenId,s=a.amount;o&&c(t.getData().toString(),{tokenId:o,amount:s,receiver:t.getReceiver().bech32()}),e.push({transaction:t,transactionIndex:n})}})),i(e)}}()}),[t]),{parsedTransactionsByDataField:r,getTxInfoByDataField:function(e,t){return null==r?qr:e in r?r[e]:null!=t&&String(t)in r?r[t]:qr},allTransactions:s}}var Hr={__proto__:null,removeTransactionsToSign:function(e){gn.dispatch(Nt(e))},removeSignedTransaction:function(e){gn.dispatch(Nt(e))},removeAllSignedTransactions:function(){gn.dispatch(St())},removeAllTransactionsToSign:function(){gn.dispatch(Tt())},sendTransactions:Wr,signTransactions:Or,useTrackTransactionStatus:function(e){var t=e.transactionId,n=e.onSuccess,r=e.onFail,a=e.onCancelled,o=e.onTimedOut,s=e.onCompleted,i=Ir((function(e){return _n(e,t)})),c=i.status,l=i.transactions,u=i.errorMessage,p=Xe(c),m=Qe(c),f=et(c),g=$e(c),h=Je(c),v=c===exports.TransactionBatchStatusesEnum.cancelled;return d.useEffect((function(){g&&n&&n(t)}),[g]),d.useEffect((function(){h&&s&&s(t)}),[h]),d.useEffect((function(){m&&r&&r(t,u)}),[m]),d.useEffect((function(){v&&a&&a(t)}),[v]),d.useEffect((function(){f&&(o?o(t):null==r||r(t,"timeout"))}),[f]),null==t?{}:null==i?{errorMessage:"No transaction to track"}:{isPending:p,isSuccessful:g,isFailed:m,isCancelled:v,isCompleted:h,errorMessage:u,status:c,transactions:l}},useGetPendingTransactions:Gr,useGetFailedTransactions:function(){var e=Ir(Rn),t=Object.entries(e);return{failedTransactions:e,failedTransactionsArray:t,hasFailedTransactions:(null==t?void 0:t.length)>0}},useGetSuccessfulTransactions:function(){var e=Ir(An),t=Object.entries(e);return{successfulTransactions:e,successfulTransactionsArray:t,hasSuccessfulTransactions:(null==t?void 0:t.length)>0}},useParseMultiEsdtTransferData:Ur,useGetActiveTransactionsStatus:function(){var e,t,n,r=Ir(Nn),a=Ir(Dn),o=Ir(Rn),s=Ir(An),i=Ir(Ln),c=Ir(Mn),l=(null==(e=Object.keys(i))?void 0:e.length)>0,u=!l&&(null==(t=Object.keys(a))?void 0:t.length)>0,d=!l&&!u&&(null==(n=Object.keys(o))?void 0:n.length)>0;return{pending:l,timedOut:u,fail:d,success:!l&&!u&&!d&&Object.keys(s).length>0,completed:!l&&!u&&!d&&Object.keys(c).length>0,hasActiveTransactions:Object.keys(r).length>0}},useGetCompletedTransactions:function(){var e=Ir(Mn),t=Object.entries(e);return{completedTransactions:e,completedTransactionsArray:t,hasCompletedTransactions:(null==t?void 0:t.length)>0}}};function Vr(){var e=Ir(yn),n=Ir(tn),r=Ir(Qt),a=Ir(rn),o=Ir(Ht),s=Ir(Jt),i=Ir(nn),c=Ir(en),l=d.useState(),u=l[0],p=l[1],m=Yn(),f=Nr(),g=n||{callbackRoute:"",logoutRoute:""},h=Br({callbackRoute:g.callbackRoute,logoutRoute:g.logoutRoute})[0];function v(){return(v=k(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(je(!0)),!o||!c){e.next=13;break}return e.prev=2,e.next=5,Qn(o);case 5:(t=e.sent)&&f(Be({balance:t.balance.toString(),address:o,nonce:t.nonce.valueOf()})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),f(We("Failed getting account")),console.error("Failed getting account ",e.t0);case 13:f(je(!1));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function b(){return(b=k(O.mark((function t(){var n,r,o;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==a){t.next=14;break}return n=G(e.walletAddress),t.next=5,Vn();case 5:if(!(r=t.sent)){t.next=13;break}return Y(n),f(Q({address:r,loginMethod:exports.LoginMethodsEnum.wallet})),t.next=11,Qn(r);case 11:(o=t.sent)&&f(Be({balance:o.balance.toString(),address:r,nonce:tr(o)}));case 13:f(we(null));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Failed authenticating wallet user ",t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function x(){return w.apply(this,arguments)}function w(){return(w=k(O.mark((function e(){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new t.HWProvider(m),r=n.isInitialized()){e.next=6;break}return e.next=5,n.init();case 5:r=e.sent;case 6:if(r||!c){e.next=10;break}return console.warn("Could not initialise ledger app"),Wn(),e.abrupt("return");case 10:return null!=(null==i?void 0:i.index)&&(n.addressIndex=i.index),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=k(O.mark((function e(){var t,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,q(t);case 8:n=e.sent,Y(t),p(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Could not initialise ledger app",e.t0),Wn();case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function E(){return(E=k(O.mark((function e(){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return n=e.sent,r=t.ExtensionProvider.getInstance().setAddress(n),e.next=7,r.init();case 7:e.sent?Y(r):console.error("Could not initialise extension, make sure Elrond wallet extension is installed."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Unable to login to ExtensionProvider",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return d.useEffect((function(){(function(){return $n.apply(this,arguments)})().then((function(e){e&&f(Le(e.ChainID.valueOf()))})).catch((function(e){console.error("To do ",e)}))}),[e]),d.useEffect((function(){!function(){if(null!=r)switch(r){case exports.LoginMethodsEnum.ledger:!function(){y.apply(this,arguments)}();break;case exports.LoginMethodsEnum.walletconnect:h(!1);break;case exports.LoginMethodsEnum.wallet:Y(G(e.walletAddress));break;case exports.LoginMethodsEnum.extension:!function(){E.apply(this,arguments)}();break;case exports.LoginMethodsEnum.extra:null!=K&&(Z=K);break;case exports.LoginMethodsEnum.none:!function(){b.apply(this,arguments)}()}}()}),[r]),d.useEffect((function(){!function(){v.apply(this,arguments)}()}),[o,c]),d.useEffect((function(){null==s&&null!=i&&u&&f(Pe({index:i.index,address:o,hasContractDataEnabled:u.dataEnabled,version:u.version}))}),[s,c,u]),null}function Zr(e){return Kr.apply(this,arguments)}function Kr(){return(Kr=k(O.mark((function e(t){var n,r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yn(gn.getState()),r=n.apiAddress,a=n.apiTimeout,o=t.map((function(e){return g.post(r+"/transactions",e.toPlainObject(),{timeout:parseInt(a)})})),e.next=4,Promise.all(o);case 4:return e.abrupt("return",e.sent.map((function(e){return e.data.txHash})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=k(O.mark((function e(t){var n,r,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vn(gn.getState()),r=t.map((function(e){return e.hash})),e.next=4,g.get(n.network.apiAddress+"/transactions",{params:{hashes:r.join(","),withScResults:!0}});case 4:return a=e.sent.data,e.abrupt("return",t.map((function(e){var t=e.hash,n=e.previousStatus,r=a.find((function(e){return(null==e?void 0:e.txHash)===t}));return{hash:t,data:r.data,invalidTransaction:null==r,status:r.status,results:r.results,sender:r.sender,receiver:null==r?void 0:r.receiver,previousStatus:n,hasStatusChanged:r.status!==n}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e){return $r.apply(this,arguments)}function $r(){return($r=k(O.mark((function e(t){var n,r,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endsWith("/")?t.slice(0,-1):t,r=n+"/dapp/config",e.prev=2,e.next=5,g.get(r);case 5:if(null==(a=e.sent.data)){e.next=9;break}return e.abrupt("return",a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("error fetching configuration for ",r);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Qr(){return(Qr=k(O.mark((function e(t){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F[t],e.next=3,Xr(n.apiAddress);case 3:return e.abrupt("return",null!==(r=e.sent)?r:n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=k(O.mark((function e(t){var n,r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vn(gn.getState()),a=(r=n.network).apiAddress,o=r.apiTimeout,e.next=3,g.get("/accounts/"+t,{baseURL:a,timeout:Number(o)});case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var na={__proto__:null,sendSignedTransactions:Zr,getTransactionsByHashes:Yr,getServerConfigurationForEnvironment:function(e){return Qr.apply(this,arguments)},getServerConfiguration:Xr,getScamAddressData:ea},ra=function(){return Ir(vn)};function aa(){var e=Ir(Fn),t=Nr();return{notification:e,clearNotification:function(){return t(zt())}}}function oa(e){return Ir((function(t){return Pn(t,e)}))}function sa(){var e=window.location.search,n=Ir(yn),r=Nr();p.useEffect((function(){if(null!=e){var a=h.parse(e.replace("?",""));if(a&&"signSession"in a){var o=a.signSession,s=new t.WalletProvider(n.walletAddress+"/dapp/init").getTransactionsFromWalletUrl();s.length>0&&(r(Ct({sessionId:o.toString(),status:exports.TransactionBatchStatusesEnum.signed,transactions:s.map((function(e){return ht(e)}))})),history.pushState({},document.title,"?"))}}}),[e])}var ia=function(){var e=Nr(),n=d.useRef("/"),r=Ir(Ht),a=X(),o=z(a),s=d.useState(null),i=s[0],c=s[1],l=Ir(Bn),u=Boolean(null==l?void 0:l.transactions);function p(n){var r,o=a instanceof t.ExtensionProvider;e(Tt()),e(Bt(n)),o&&(null==(r=t.ExtensionProvider.getInstance())||null==r.cancelAction||r.cancelAction())}sa();var m=function(e,t){var n="Transaction cancelled"!==e;p(t),n&&c(e)},f=function(e,t,n){var r;void 0===n&&(n="");var o=((r={}).signSession=t,r),s=gt({callbackUrl:""+window.location.origin+n,urlParams:o});a.signTransactions(e,{callbackUrl:encodeURIComponent(s)})},g=function(){var t=k(O.mark((function t(){var n,r,o,s,c,u,d,p,f,g,h,v;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.sessionId,r=l.transactions,o=l.customTransactionInformation.redirectAfterSign,s=l.callbackRoute||window.location.pathname,c=window.location.pathname.includes(s),u=o&&!c,t.prev=5,t.next=8,a.init();case 8:if(t.sent){t.next=11;break}return t.abrupt("return");case 11:t.next=19;break;case 13:return t.prev=13,t.t0=t.catch(5),d=(null==t.t0?void 0:t.t0.message)||t.t0||"provider not intialized",console.error("provider not intialized",d),m(d),t.abrupt("return");case 19:return t.prev=19,t.next=22,a.signTransactions(r);case 22:if(p=t.sent,f=Object.keys(p).length===r.length,g=p&&f,p&&g){t.next=28;break}return t.abrupt("return");case 28:h=Object.values(p).map((function(e){return ht(e)})),e(Ct({sessionId:n,transactions:h,status:exports.TransactionBatchStatusesEnum.signed})),u&&(window.location.href=s),t.next=39;break;case 33:t.prev=33,t.t1=t.catch(19),v=(null==i?void 0:i.message)||i||"error signing transaction",console.error("error signing transaction",v),e(Ct({sessionId:n,status:exports.TransactionBatchStatusesEnum.cancelled})),m(v,n);case 39:case"end":return t.stop()}}),t,null,[[5,13],[19,33]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var s=k(O.mark((function s(){var c,u,d,p,h,v,b,x,w,y;return O.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(l){s.next=2;break}return s.abrupt("return");case 2:if(c=l.sessionId,u=l.transactions,d=l.callbackRoute,a){s.next=6;break}return console.error(P),s.abrupt("return");case 6:return n.current=d||window.location.pathname,p=function(e,n){return n.map((function(n,r){return n.setNonce(new t.Nonce(e+r)),n}))},s.prev=8,s.next=11,Jn(r);case 11:if(null!=(h=s.sent)){s.next=14;break}return s.abrupt("return");case 14:v=o===exports.LoginMethodsEnum.wallet,b=![exports.LoginMethodsEnum.wallet,exports.LoginMethodsEnum.ledger].includes(o),x=tr(h),w=p(x,u),v&&f(w,c,d),b&&g(),s.next=29;break;case 22:s.prev=22,s.t0=s.catch(8),m(y=(null==i?void 0:i.message)||"error when signing",c),e(Ct({sessionId:c,status:exports.TransactionBatchStatusesEnum.cancelled})),console.error(y,s.t0);case 29:case"end":return s.stop()}}),s,null,[[8,22]])})));return function(){return s.apply(this,arguments)}}();return d.useEffect((function(){h()}),[l]),{error:i,onAbort:function(e){c(null),p(e)},hasTransactions:u,callbackRoute:n.current,sessionId:null==l?void 0:l.sessionId,transactions:null==l?void 0:l.transactions}};function ca(){var e=Ir(Nn),t=Object.entries(e);return{signedTransactions:e,signedTransactionsArray:t,hasSignedTransactions:(null==t?void 0:t.length)>0}}var la={};try{la=require("swr").default}catch(e){}var ua=la,da=function(e){return g.get(e).then((function(e){return e.data}))};function pa(e){var t,n=e.tokenId,r=ra().network,a=mr(n).isEsdt?"tokens":"nfts",o=ua(Boolean(n)?r.apiAddress+"/"+a+"/"+n:null,da),s=o.data,i=o.error;return n?{tokenDenomination:s?null==s?void 0:s.decimals:Number(r.egldDenomination),tokenLabel:s?null==s?void 0:s.name:"",tokenAvatar:s?""+(null==s||null==(t=s.assets)?void 0:t.svgUrl):"",error:i}:{tokenDenomination:Number(r.egldDenomination),tokenLabel:"",tokenAvatar:""}}var ma=function(){return Ir(Ut)},fa=function(){return T({},Ir($t),{isLoggedIn:Ir(en)})},ga=function(){var e=X();return{provider:e,providerType:z(e)}},ha={};function va(e){var t,n,r,a=e.onCancel,o=e.verifyReceiverScam,s=void 0===o||o,i=Ir(Bn),c=ma().account.address,l=i||{},u=l.sessionId,p=l.transactions,m=l.callbackRoute,f=l.customTransactionInformation,g=d.useState(0),h=g[0],v=g[1],b=d.useState(),x=b[0],w=b[1],y=Ur({transactions:p}),E=y.getTxInfoByDataField,S=y.allTransactions,N=d.useState(null),I=N[0],C=N[1],L=X(),A=Ir(kn),M=d.useState(!1),R=M[0],D=M[1],B=Nr(),_=Hn(exports.LoginMethodsEnum.ledger),P=h===S.length-1;function F(){return(F=k(O.mark((function e(){var t,n,r,a,o,i,l,u,d,p,m,f;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=S[h])){e.next=3;break}return e.abrupt("return");case 3:if(a=n.multiTxData,o=(r=n.transaction).getData().toString(),i=E(r.getData().toString(),a),l=i.tokenId,u=r.getReceiver().toString(),d=u in ha,c===u||d||!s){e.next=15;break}return e.next=13,ea(u);case 13:ha=T({},ha,(m=e.sent).scamInfo?((p={})[u]=m.scamInfo,p):{});case 15:f=Boolean(l&&ft({tokenId:l,erdLabel:A})),C({transaction:r,receiverScamInfo:(null==(t=ha[u])?void 0:t.info)||null,transactionTokenInfo:i,isTokenTransaction:f,dataField:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){v(0),w(void 0),D(!1)}function W(){return z.apply(this,arguments)}function z(){return(z=k(O.mark((function e(){var t,n,r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=I&&null!=u){e.next=3;break}return e.abrupt("return");case 3:return D(_),e.next=6,L.signTransaction(I.transaction);case 6:(t={})[h]=e.sent,n=t,r=x?T({},x,n):n,w(r),P?r&&(B(Ct({sessionId:u,status:exports.TransactionBatchStatusesEnum.signed,transactions:Object.values(r).map((function(e){return ht(e,_)}))})),j(),null!=m&&null!=f&&f.redirectAfterSign&&!window.location.pathname.includes(m)&&(window.location.href=m)):(v((function(e){return e+1})),D(!1)),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0,"sign error"),a=e.t0.message,o=_?ke(e.t0).errorMessage:null,j(),B(It(null!=o?o:a));case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}d.useEffect((function(){!function(){F.apply(this,arguments)}()}),[h,S]);var G=0===h,q=(null==I||null==(t=I.transactionTokenInfo)?void 0:t.type)&&(null==I||null==(n=I.transactionTokenInfo)?void 0:n.multiTxData)&&!(null!=I&&I.dataField.endsWith(null==I||null==(r=I.transactionTokenInfo)?void 0:r.multiTxData));return{allTransactions:S,onSignTransaction:function(){q?v((function(e){return e+1})):function(){try{if(null==I)return;I.transaction.getSignature()?P||v((function(e){return e+1})):W()}catch(e){W()}}()},onNext:function(){v((function(e){var t=e+1;return t>(null==S?void 0:S.length)?e:t}))},onPrev:function(){v((function(e){var t=e-1;return t<0?e:t}))},waitingForDevice:R,onAbort:function(){G?(B(Tt()),a(),null!=m&&null!=f&&f.redirectAfterSign&&(window.location.href=m)):v((function(e){return e-1}))},isLastTransaction:P,callbackRoute:m,currentStep:h,signedTransactions:x,currentTransaction:I}}var ba=function(){return Ir(In)};function xa(e,t){return e.reduce((function(e,n){var r=n.status,a=n.hash;return null!=a&&!t.includes(a)&&Xe(r)&&e.push({hash:a,previousStatus:r}),e}),[])}function wa(e){gn.dispatch(Et({sessionId:e,status:exports.TransactionBatchStatusesEnum.timedOut}))}var ya={},Ea=[];function ka(e){var t=e.serverTransaction,n=e.sessionId,r=e.customTransactionInformation,a=e.shouldRefreshBalance,o=t.hash,s=t.status,i=t.results,c=t.invalidTransaction,l=t.hasStatusChanged;try{if(Ea.includes(o))return;if(ya[o]>30)return void wa(n);if(c||Xe(s))return void(ya[o]=ya[o]?ya[o]+1:1);l&&($e(s)&&null!=(null==r?void 0:r.completedTransactionsDelay)?(Ea.push(o),setTimeout((function(){return gn.dispatch(yt({sessionId:n,status:exports.TransactionServerStatusesEnum.completed,transactionHash:o}))}),null==r?void 0:r.completedTransactionsDelay)):gn.dispatch(yt({sessionId:n,status:s,transactionHash:o}))),a||or(),Qe(s)&&function(e){var t=e.hash,n=e.sessionId,r=e.results.find((function(e){return""!==(null==e?void 0:e.returnMessage)}));gn.dispatch(yt({transactionHash:t,sessionId:n,status:exports.TransactionServerStatusesEnum.fail,errorMessage:null==r?void 0:r.returnMessage})),gn.dispatch(Et({sessionId:n,status:exports.TransactionBatchStatusesEnum.fail,errorMessage:null==r?void 0:r.returnMessage}))}({sessionId:n,hash:o,results:i})}catch(e){console.error(e),wa(n)}}function Ta(e){return Sa.apply(this,arguments)}function Sa(){return(Sa=k(O.mark((function e(t){var n,r,a,o,s,i,c,l,u,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sessionId,a=(r=t.transactionBatch).transactions,o=r.customTransactionInformation,i=void 0===(s=t.getTransactionsByHash)?Yr:s,c=t.shouldRefreshBalance,e.prev=1,null!=a){e.next=4;break}return e.abrupt("return");case 4:return l=xa(a,Ea),e.next=7,i(l);case 7:for(u=C(e.sent);!(d=u()).done;)ka({serverTransaction:d.value,sessionId:n,customTransactionInformation:o,shouldRefreshBalance:c});e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Na(){var e=Gr().pendingTransactionsArray;function t(){return(t=k(O.mark((function t(n){var r,a,o,s,i,c;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.filter((function(e){return null!=e[0]&&Xe(e[1].status)}))).length>0)){t.next=9;break}a=C(r);case 3:if((o=a()).done){t.next=9;break}return i=(s=o.value)[0],c=s[1],t.next=7,Ta(T({sessionId:i,transactionBatch:c},n));case 7:t.next=3;break;case 9:n.shouldRefreshBalance&&or();case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}function Ia(){return Ca.apply(this,arguments)}function Ca(){return(Ca=k(O.mark((function e(){var t,n,r,a,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gn.getState(),n=En(t),r=Ht(t),a=Yt(t),e.prev=4,null!=a||!r){e.next=14;break}return e.next=8,g.get(n+"/accounts/"+r);case 8:return gn.dispatch(Oe((o=e.sent.data).shard)),e.abrupt("return",o.shard);case 14:return e.abrupt("return",a);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})))).apply(this,arguments)}function La(e){var t=e.customNetworkConfig,n=void 0===t?{}:t,r=e.children,a=e.environment,o=d.useState(!1),s=o[0],i=o[1],c=ma(),l=c.address,m=c.publicKey,f=Nr();function g(e){Kn(e)}function h(){return v.apply(this,arguments)}function v(){return(v=k(O.mark((function e(){var t,r,o,s,i,c,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(null!=n&&n.skipFetchFromServer),r=null==n?void 0:n.apiAddress,s=T({},o=F[a]||{},n),!t){e.next=14;break}return i=null==o?void 0:o.apiAddress,e.next=8,Xr(r||i);case 8:if(null==(c=e.sent)){e.next=14;break}return l=T({},o,c,n),f(Ce(l)),g(l),e.abrupt("return");case 14:f(Ce(s)),g(s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:i(!0),Ia();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d.useEffect((function(){l&&Ia()}),[l]),d.useEffect((function(){l&&new u.Address(l).hex()!==m&&Wn()}),[l,m]),d.useEffect((function(){!function(){b.apply(this,arguments)}()}),[n,a]),s?p.createElement(p.Fragment,null,r):null}var Aa=function(e){var n=e.sendSignedTransactionsAsync,r=void 0===n?Zr:n,a=Ir(Vt),o=Ir(Nn),s=d.useRef(!1),i=Nr(),c=function(){i(Tt()),s.current=!1};function l(){return(l=k(O.mark((function e(){var n,l,u,d,p,m,f;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.keys(o),l=0,u=n;case 2:if(!(l<u.length)){e.next=25;break}if(m=u[l],f=null==o||null==(d=o[m])||null==(p=d.customTransactionInformation)?void 0:p.signWithoutSending,m&&!f){e.next=7;break}return e.abrupt("continue",22);case 7:return e.prev=7,e.delegateYield(O.mark((function e(){var n,l,u,d,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o[m].status===exports.TransactionBatchStatusesEnum.signed&&!s.current){e.next=4;break}return e.abrupt("return","continue");case 4:if(n=o[m].transactions){e.next=7;break}return e.abrupt("return","continue");case 7:return s.current=!0,l=n.map((function(e){var n=new t.Address(e.sender),r=Tn(e),a=new b.Signature(e.signature);return r.applySignature(a,n),r})),e.next=11,r(l);case 11:u=e.sent,d=exports.TransactionServerStatusesEnum.pending,p=n.map((function(e){return u.includes(e.hash)?T({},e,{status:d}):e})),i(jt({sessionId:m,submittedMessage:"submitted"})),i(Et({sessionId:m,status:exports.TransactionBatchStatusesEnum.sent,transactions:p})),c(),er(a.nonce+n.length),history.pushState({},document.title,"?");case 20:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",22);case 12:e.next=19;break;case 14:e.prev=14,e.t1=e.catch(7),console.error("Unable to send transactions",e.t1),i(Et({sessionId:m,status:exports.TransactionBatchStatusesEnum.fail,errorMessage:e.t1.message})),c();case 19:return e.prev=19,s.current=!1,e.finish(19);case 22:l++,e.next=2;break;case 25:case"end":return e.stop()}}),e,null,[[7,14,19,22]])})))).apply(this,arguments)}return p.useEffect((function(){!function(){l.apply(this,arguments)}()}),[o,a]),null};function Ma(e){return t={getTransactionsByHash:e.getTransactionsByHash},r=Gr().pendingTransactionsArray,a=null!=(n=null==t?void 0:t.getTransactionsByHash)?n:Yr,o=Na(),s=d.useRef(),i=r.filter((function(e){return null!=e[0]&&Xe(e[1].status)})),d.useEffect((function(){return i.length>0?s.current=setInterval((function(){o({getTransactionsByHash:a})}),2e3):clearInterval(s.current),function(){clearInterval(s.current)}}),[i]),null;var t,n,r,a,o,s,i}function Ra(e){var t,n,r=e.customComponents,a=null==r?void 0:r.transactionSender,o=null==r?void 0:r.transactionTracker,s=null!=(t=null==a?void 0:a.component)?t:Aa,i=null!=(n=null==o?void 0:o.component)?n:Ma;return p.createElement(p.Fragment,null,p.createElement(s,Object.assign({},null==a?void 0:a.props)),p.createElement(i,Object.assign({},null==o?void 0:o.props)))}var Da={__proto__:null,TransactionParameter:function(e,t,n,r,a){this.sender=e,this.receiver=t,this.functionName=n,this.inputParameters=r,this.outputParameters=a},newTransaction:Tn},Ba=function(e){return function(t){var n=T({},t);return p.createElement("span",{className:Tr},p.createElement(e,Object.assign({},n)))}},_a=function(e){return ur(e.value)?function(e,t){var n=e.showLastNonZeroDecimal,r=e.showLabel,a=void 0===r||r,o=void 0!==e.decimals?e.decimals:4,s=gr({input:e.value,denomination:void 0!==e.denomination?e.denomination:18,decimals:o,showLastNonZeroDecimal:void 0!==n&&n,addCommas:!0}),i=s.split(".");if(o>0&&1===i.length&&"0"!==s){for(var c="",l=1;l<=o;l++)c+="0";i.push(c)}return p.createElement("span",{"data-testid":e["data-testid"]?e["data-testid"]:"denominateComponent"},p.createElement("span",{className:"int-amount"},i[0]),i.length>1&&p.createElement("span",{className:"decimals"},".",i[1]),a&&p.createElement("span",{className:"symbol "+(e.token?"text-muted":"")},"",e.token?e.token:t))}(e,e.egldLabel||""):function(e){return p.createElement("span",{"data-testid":e["data-testid"]?e["data-testid"]:"denominateComponent"},p.createElement("span",{className:"int-amount"},"..."))}(e)},Oa=Ba((function(e){var t=T({},e,{egldLabel:e.egldLabel||Un()});return p.createElement(_a,Object.assign({},t))})),Pa={};try{Pa=require("@fortawesome/free-solid-svg-icons")}catch(e){}var Fa=Pa,ja={};try{ja=require("@fortawesome/react-fontawesome")}catch(e){}var Wa,za,Ga=ja,qa=Ba((function(e){var t=e.page,n=e.text,r=e.className,a=ra();return p.createElement("a",Object.assign({href:""+a.network.explorerAddress+t},{target:"_blank"},{className:"link-style "+r}),n?p.createElement(p.Fragment,null,n):p.createElement(Ga.FontAwesomeIcon,{icon:Fa.faSearch,className:"text-secondary"}))})),Ua=Ba((function(e){var t=e.className,n=void 0===t?"extension-login":t,r=e.children,a=e.buttonClassName,o=e.loginButtonText,s=void 0===o?"Maiar DeFi Wallet":o,i=e.redirectAfterLogin,c=e.shouldRenderDefaultCss,l=void 0===c||c,u=Cr({callbackRoute:e.callbackRoute,token:e.token,redirectAfterLogin:void 0!==i&&i})[0],d=-1!=navigator.userAgent.indexOf("Firefox"),m=kr(n,l,{wrapper:"btn btn-primary px-sm-4 m-1 mx-sm-3 "+(null!=a?a:""),loginText:"text-left",noExtensionButtonWrapper:"btn btn-unlock d-inline-block",noExtensionButtonContent:"d-flex justify-content-between align-items-center",noExtensionButtonTitle:"title",noExtensionButtonIcon:""});return window.elrondWallet?p.createElement("button",{onClick:function(){u()},className:m.wrapper},r||p.createElement("span",{className:m.loginText},s)):p.createElement("a",{rel:"noreferrer",href:d?"https://addons.mozilla.org/en-US/firefox/addon/maiar-defi-wallet/":"https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en",target:"_blank",className:m.noExtensionButtonWrapper},r||p.createElement("div",{className:m.noExtensionButtonContent},p.createElement("div",{className:m.noExtensionButtonTitle},"Maiar DeFi Wallet"),p.createElement(Ga.FontAwesomeIcon,{className:m.noExtensionButtonIcon,icon:Fa.faArrowRight})))})),Ha=function(e){var t=e.children,n=e.noSpacer,r=e.onClose;return p.createElement(x.Modal,{show:!0,backdrop:"static",onHide:r,className:"modal-container "+(e.className||"")+" "+Tr,animation:!1,centered:!0},p.createElement("div",{className:"modal-card card w-100"},p.createElement("div",{className:"card-title h5 mb-0"},p.createElement("div",{className:"d-flex justify-content-between align-items-center pt-spacer px-spacer mb-0"},p.createElement("div",{className:"px-3"},e.title),p.createElement("button",{type:"button",className:"btn btn-light px-3 py-2",onClick:r},p.createElement(Ga.FontAwesomeIcon,{size:"lg",icon:Fa.faTimes})))),p.createElement("div",{className:"modal-card-body text-center "+(n?"p-0":"p-spacer")},t)))},Va=Ba((function(e){var t,n=e.icon,r=e.title,a=e.action,o=e.iconClass,s=e.dataTestId,i=e.description,c=e.iconBgClass,l=e.iconSize,u=void 0===l?"5x":l,d=e.className,m=e.shouldRenderDefaultCss,f=kr(void 0===d?"page-state":d,void 0===m||m,{wrapper:"state m-auto p-4 text-center",iconContainer:w("icon-state mx-auto",(t={},t[""+c]=Boolean(c),t)),iconClass:w(null!=o&&o),title:"h4 my-4",description:"mb-3"});return p.createElement("div",{className:f.wrapper,"data-testid":s},n&&p.createElement("span",{className:f.iconContainer},p.createElement(Ga.FontAwesomeIcon,{icon:n,className:f.iconClass,size:u})),r&&p.createElement("p",{className:f.title},r),i&&p.createElement("div",{className:f.description},i),a&&p.createElement(p.Fragment,null,a))})),Za=function(e){var t,n,r=e.address,a=e.index,o=e.selectedAddress,s=e.onSelectAddress,i=p.useState("..."),c=i[0],l=i[1],u=function(){var e=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr(r);case 3:l(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error fetching balance",e.t0,c);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return p.useEffect((function(){u()}),[]),p.createElement("tr",null,p.createElement("td",{className:"text-left"},p.createElement("div",{className:"d-flex align-items-start text-left form-check"},p.createElement("input",{type:"radio",id:"check_"+a,"data-testid":"check_"+a,onChange:function(e){e.target.checked&&s({address:r,index:a})},role:"button",checked:o===r,className:"form-check-input mr-1"}),p.createElement("label",{htmlFor:"check_"+a,role:"button","data-testid":"label_"+a,className:"form-check-label text-nowrap trim-size-xl m-0"},p.createElement("div",{className:"d-flex align-items-center text-nowrap trim"},p.createElement("span",null,(void 0===n&&(n=10),(t=r).substring(0,n)+"..."+t.substring(t.length-n))))))),p.createElement("td",{className:"text-left"},p.createElement(Oa,{value:c})),p.createElement("td",{className:"text-left"},a))},Ka=function(e){var t=e.loading,n=e.accounts,r=e.startIndex,a=e.selectedAddress,o=e.onGoToPrevPage,s=e.onGoToNextPage,i=e.onConfirmSelectedAddress,c=e.onSelectAddress,l=e.shouldRenderDefaultCss,u=e.className,d=void 0===u?"ledger-address-table":u,m=kr(d,void 0===l||l,{wrapper:"card my-4 text-center border-0",cardBody:"card-body p-4 mx-lg-4",tableWrapper:"table-responsive",tableContent:"table m-0 border-bottom",tableHeader:"py-2 text-semibold border-bottom",tableHeaderText:"text-left border-0",buttonsWrapper:"d-flex justify-content-center pager mt-2",arrowButton:"btn btn-link mx-2",confirmButton:"btn btn-primary px-4 mt-4"});switch(!0){case t:return p.createElement(Va,{className:d,icon:Fa.faCircleNotch,iconClass:"fa-spin text-primary",title:"Waiting for device"});default:return p.createElement(p.Fragment,null,p.createElement("div",{className:"m-auto"},p.createElement("div",{className:m.wrapper},p.createElement("div",{className:m.cardBody},p.createElement("div",{className:m.tableWrapper,"data-testid":"ledgerAddresses"},p.createElement("table",{className:m.tableContent},p.createElement("thead",{className:m.tableHeader},p.createElement("tr",null,p.createElement("th",{className:m.tableHeaderText},"Address"),p.createElement("th",{className:m.tableHeaderText},"Balance"),p.createElement("th",{className:m.tableHeaderText},"#"))),p.createElement("tbody",{"data-testid":"addressesTable"},n.map((function(e,t){var n=t+10*r;return p.createElement(Za,{key:n,address:e,index:n,selectedAddress:a,onSelectAddress:c})}))))),p.createElement("div",{className:m.buttonsWrapper},p.createElement("button",{type:"button",className:m.arrowButton,onClick:o,"data-testid":"prevBtn",disabled:0===r},p.createElement(Ga.FontAwesomeIcon,{size:"sm",icon:Fa.faChevronLeft})," ","Prev"),p.createElement("button",{type:"button",className:m.arrowButton,onClick:s,"data-testid":"nextBtn"},"Next"," ",p.createElement(Ga.FontAwesomeIcon,{size:"sm",icon:Fa.faChevronRight}))),p.createElement("button",{className:m.confirmButton,disabled:""===a,onClick:i,"data-testid":"confirmBtn"},"Confirm")))))}},Ya=function(e){var t=e.token,n=e.noBorder,r=ma().ledgerAccount;return p.createElement("div",{className:"m-auto"},p.createElement("div",{className:"card my-4 text-center "+(n?"border-0":"")},p.createElement("div",{className:"card-body p-4 mx-lg-4"},p.createElement("h4",{className:"mb-4"},"Confirm Ledger Address"),p.createElement("p",null,"For security, please confirm that your address: "),p.createElement("p",{className:"lead border rounded p-2"},r?r.address:""),t&&p.createElement(p.Fragment,null,p.createElement("p",null,"and Auth Token"),p.createElement("p",{className:"lead border rounded p-2"},t+"{}")),p.createElement("p",{className:"m-0"},t?"are the one shown on your Ledger device screen now.":"is the one shown on your Ledger device screen now."),p.createElement("p",null,"Select Approve on your device to confirm."),p.createElement("p",null,"Or, if it does not match, close this page and"," ",p.createElement("a",Object.assign({href:"https://help.elrond.com/en/"},{target:"_blank"}),"contact support"),"."))))};function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xa=function(e){return d.createElement("svg",Ja({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:110,height:55,viewBox:"0 0 260 129"},e),Wa||(Wa=d.createElement("defs",null,d.createElement("linearGradient",{id:"ledger-nano_svg__a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},d.createElement("stop",{offset:"0%"}),d.createElement("stop",{offset:"100%",stopColor:"#FFF"})),d.createElement("path",{id:"ledger-nano_svg__b",d:"M91 0h34a4 4 0 0 1 4 4v108.144c0 11.519-9.337 20.856-20.856 20.856h-.288C96.337 133 87 123.663 87 112.144V4a4 4 0 0 1 4-4z"}))),za||(za=d.createElement("g",{fill:"none",fillRule:"evenodd"},d.createElement("path",{className:"ledger-nano_svg__ledger-stroke",stroke:"#1D2027",strokeWidth:2,d:"M127.856 31.44a1 1 0 0 1-1 1H100.63a5 5 0 0 1-5-5v-8.486a5 5 0 0 1 5-5h26.225a1 1 0 0 1 1 1v16.485z"}),d.createElement("path",{className:"ledger-nano_svg__ledger-stroke",stroke:"#142533",strokeWidth:2,d:"M95.247 26.231H84.318v-6.435h10.93v6.435z"}),d.createElement("path",{className:"ledger-nano_svg__ledger-stroke",stroke:"#1D2027",strokeWidth:2,d:"M127.923 28.726V17.471l6.977.083a1 1 0 0 1 .988 1v9.266a1 1 0 0 1-1.012.988l-6.953-.083z"}),d.createElement("path",{fill:"url(#ledger-nano_svg__a)",d:"M6.836 53.925h1.616v82.65H6.836v-82.65zm5.657 0h1.616v82.65h-1.616v-82.65z",transform:"matrix(0 -1 -1 0 137.5 33.44)"}),d.createElement("g",{transform:"rotate(-90 128.59 1.975)"},d.createElement("rect",{className:"ledger-nano_svg__ledger-fill",width:4.492,height:17.12,x:125.336,y:15.505,fill:"#142533",rx:2}),d.createElement("rect",{className:"ledger-nano_svg__ledger-fill",width:4.492,height:17.12,x:125.336,y:70.094,fill:"#142533",rx:2}),d.createElement("use",{className:"ledger-nano_svg__ledger-fill-inner-bg",fill:"#FFF",xlinkHref:"#ledger-nano_svg__b"}),d.createElement("path",{className:"ledger-nano_svg__ledger-stroke",fill:"#6490F1",fillOpacity:.15,stroke:"#142533",strokeLinejoin:"square",strokeWidth:2,d:"M91 1a3 3 0 0 0-3 3v108.144C88 123.11 96.89 132 107.856 132h.288C119.11 132 128 123.11 128 112.144V4a3 3 0 0 0-3-3H91z"}),d.createElement("rect",{className:"ledger-nano_svg__ledger-fill-outer-bg",width:21,height:62,x:97.5,y:21.5,fill:"#FFF",stroke:"#6490F1",rx:1.6}),d.createElement("path",{fill:"#6490F1",d:"M105.5 35h5a.5.5 0 0 1 .5.5v34a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-34a.5.5 0 0 1 .5-.5zm1.238 3.042.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.584-.34.473zm0 3.907.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.178-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908.774.511v.014l-.774.505.341.466.722-.578h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.171-.243.892h-.013l-.722-.584-.34.473zm0 3.907.774.512v.013l-.774.505.341.466.722-.577h.013l.243.898.551-.177-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908.774.511v.013l-.774.506.341.465.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.473zm0 3.907.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.879.932.052v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.583-.34.472zm0 3.907.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472z"}),d.createElement("path",{className:"ledger-nano_svg__ledger-stroke ledger-nano_svg__ledger-fill-outer-bg",fill:"#FFF",stroke:"#142533",strokeWidth:2,d:"M123.166 125.105c7.049-8.4 5.953-20.925-2.447-27.974l-90.824-76.21a3 3 0 0 0-4.227.37L4 47.115a3 3 0 0 0 .37 4.227l90.824 76.21c8.4 7.049 20.924 5.953 27.973-2.447z"}),d.createElement("ellipse",{cx:108.016,cy:111.123,stroke:"#6490F1",rx:10.57,ry:10.644})))))},$a=function(e){var t=e.onClick,n=e.error,r=e.connectPageContent;return p.createElement("div",{className:"m-auto login-container"},p.createElement("div",{className:"card my-4 text-center border-0"},p.createElement("div",{className:"card-body p-4 mx-lg-4"},r?p.createElement(p.Fragment,null,r):p.createElement(p.Fragment,null,p.createElement(Xa,{className:"mb-4"}),p.createElement("h4",{className:"mb-4"},"Connect Ledger"),p.createElement("p",{className:"lead mb-4"},"Unlock your device & open the Elrond App.")),p.createElement("div",null,n&&p.createElement("p",{className:"text-danger d-flex justify-content-center align-items-center"},n),p.createElement("button",{className:"btn btn-primary px-4",onClick:t,"data-testid":"connectBtn"},"Connect Ledger")))))};function Qa(e){var t=e.callbackRoute,n=e.className,r=void 0===n?"login-modal-content":n,a=e.shouldRenderDefaultCss,o=void 0===a||a,s=e.wrapContentInsideModal,i=void 0===s||s,c=e.redirectAfterLogin,l=e.onClose,u=e.token,d=kr(r,o,{spinner:"fa-spin text-primary"}),m=ma().ledgerAccount,f=Mr({callbackRoute:t,token:u,redirectAfterLogin:c}),g=f[0],h=f[1],v=h.error,b=h.isLoading,x=f[2],w=x.showAddressList,y=x.accounts,E=x.onGoToPrevPage,k=x.onGoToNextPage,T=x.onSelectAddress,S=x.onConfirmSelectedAddress,N=x.startIndex,I=x.selectedAddress;function C(){return b?p.createElement(Va,{icon:Fa.faCircleNotch,iconClass:d.spinner,title:"Waiting for device"}):null==m||v?w&&!v?p.createElement(Ka,{accounts:y,loading:b,className:r,shouldRenderDefaultCss:o,onGoToNextPage:k,onGoToPrevPage:E,onSelectAddress:T,startIndex:N,selectedAddress:null==I?void 0:I.address,onConfirmSelectedAddress:S}):p.createElement($a,{onClick:g,error:v}):p.createElement(Ya,{token:u})}return i?p.createElement(Ha,{title:"Login with ledger",className:r,onClose:l},C()):C()}var eo,to,no=Ba(Qa),ro=Ba((function(e){var t=e.token,n=e.callbackRoute,r=e.children,a=e.onModalOpens,o=e.onModalCloses,s=e.loginButtonText,i=void 0===s?"Ledger":s,c=e.buttonClassName,l=e.className,u=void 0===l?"ledger-login":l,d=e.redirectAfterLogin,m=void 0!==d&&d,f=e.wrapContentInsideModal,g=void 0===f||f,h=e.shouldRenderDefaultCss,v=void 0===h||h,b=e.shouldRenderDefaultModalCss,x=void 0===b||b,w=e.hideButtonWhenModalOpens,y=void 0!==w&&w,E=p.useState(!1),k=E[0],T=E[1],S=kr(u,v,{wrapper:"btn btn-primary px-sm-4 m-1 mx-sm-3 "+(null!=c?c:""),loginText:"text-left"});return p.createElement("span",{className:Tr},(!y||!k)&&p.createElement("button",{onClick:function(){T(!0),null==a||a()},className:S.wrapper},r||p.createElement("span",{className:S.loginText},i)),k&&p.createElement(no,{className:u,shouldRenderDefaultCss:x,callbackRoute:n,token:t,wrapContentInsideModal:g,redirectAfterLogin:m,onClose:function(){T(!1),null==o||o()}}))})),ao=Fa,oo=((eo={})[exports.NotificationTypesEnum.warning]=ao.faExclamationTriangle,eo),so=ao.faExclamationTriangle,io=function(e){return p.createElement("span",{className:"dot "+e.color,"data-testid":e["data-testid"]})},co=function(e){for(var t=e.totalSteps,n=e.currentStep,r=e.className,a=[],o=1;o<=t;o+=1){var s=n===o;a.push(p.createElement(io,{"data-testid":"step"+o+(s?"active":""),key:o,color:s||o<n?"bg-primary":"bg-secondary"}))}return p.createElement("div",{className:"progress-steps d-flex justify-content-center "+r},p.createElement("div",{className:"steps d-flex justify-content-center align-items-center position-relative"},p.createElement("hr",{className:"position-absolute w-100 m-0"}),a))},lo=function(e){var t=e.handleClose,n=e.error,r=e.callbackRoute,a=e.transactions,o=e.className,s=void 0===o?"extension-modal":o,i=kr(s,!0,{wrapper:"modal-container extension",icon:"text-white",closeBtn:"btn btn-close-link mt-2"}),c=n||(a&&a.length>1?"Check your Elrond Wallet Extension to sign the transactions":"Check your Elrond Wallet Extension to sign the transaction");return p.createElement(x.Modal,{show:!0,backdrop:"static",onHide:t,className:Er(i.wrapper,Tr),animation:!1,centered:!0},p.createElement(Va,{icon:n?Fa.faTimes:Fa.faHourglass,iconClass:i.icon,className:s,iconBgClass:n?"bg-danger":"bg-warning",iconSize:"3x",title:"Confirm on Maiar DeFi Wallet",description:c,action:p.createElement("button",{id:"closeButton","data-testid":"closeButton",onClick:function(e){e.preventDefault(),t(),null==r||window.location.pathname.includes(r)||(window.location.href=r)},className:i.closeBtn},"Close")}))};function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var po=function(e){return d.createElement("svg",uo({viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},e),to||(to=d.createElement("g",{fillRule:"nonzero"},d.createElement("path",{d:"M79.6 19.424c-.4-.438-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.329-.9.548-1.4.548-.5.11-1-.11-1.4-.548M74.556 24.448c-.333-.441-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222.993-.555 1.434C77 24.779 76.556 25 76 25s-1-.221-1.445-.552M69.556 30.448c-.333-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.435s-.222.993-.555 1.434C72 30.889 71.556 31 71 31s-1.112-.221-1.445-.552M64.6 35.448c-.4-.331-.6-.883-.6-1.435s.2-.993.6-1.434c.8-.772 2-.772 2.8 0 .4.331.6.883.6 1.435s-.2 1.103-.6 1.434c-.4.441-.9.552-1.4.552s-1-.11-1.4-.552M59.556 40.424c-.444-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.329.555.877.555 1.424 0 .548-.222 1.096-.555 1.425-.333.438-.889.548-1.445.548a1.457 1.457 0 0 1-1.444-.548M53 44.014c0-.552.222-.993.556-1.435.777-.772 2.11-.772 2.888 0 .445.442.556.883.556 1.435s-.222.993-.556 1.435c-.333.33-.888.551-1.444.551s-1-.22-1.444-.551c-.334-.332-.556-.883-.556-1.435zM43.556 56.424c-.333-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.424 0 .548-.222.987-.555 1.425-.333.438-.889.548-1.445.548-.555.11-1-.11-1.444-.548M38.6 61.424c-.4-.329-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.438-.9.548-1.4.548-.5.11-1-.11-1.4-.548M33.556 66.448c-.333-.331-.556-.883-.556-1.435s.223-1.103.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.434s-.222.994-.555 1.435C36 66.889 35.556 67 35 67s-1-.221-1.444-.552M27.556 71.448c-.444-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222 1.103-.555 1.434C30 71.889 29.556 72 29 72s-1.112-.11-1.445-.552M22.615 76.448c-.41-.331-.615-.883-.615-1.435s.205-.993.615-1.434c.82-.772 2.051-.772 2.77 0 .41.441.615.883.615 1.435s-.206 1.103-.616 1.434c-.41.331-.923.552-1.436.552-.513 0-1.025-.11-1.333-.552M17.556 82.424c-.444-.438-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.425 0 .547-.222.986-.555 1.424-.333.329-.889.548-1.444.548-.445.11-1-.11-1.445-.548M20.444 19.424c.333-.438.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.444.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.333.329.889.548 1.444.548.556.11 1.112-.11 1.445-.548M25.4 24.448c.4-.441.6-.883.6-1.435s-.2-.993-.6-1.434c-.8-.772-2-.772-2.8 0-.4.441-.6.883-.6 1.435s.2.993.6 1.434c.4.331.9.552 1.4.552s1-.221 1.4-.552M30.444 30.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222.993.555 1.434C28 30.889 28.444 31 29 31c.445 0 1-.221 1.445-.552M36.444 35.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222 1.103.555 1.434C34 35.889 34.444 36 35 36c.444 0 1-.11 1.444-.552M41.385 40.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.718-.767-2.051-.767-2.77 0-.41.329-.615.877-.615 1.424 0 .548.206 1.096.616 1.425.41.438.923.548 1.436.548.513.11 1.025-.11 1.333-.548M47 44.014c0-.552-.222-.993-.556-1.435-.777-.772-2.11-.772-2.888 0-.445.442-.556.883-.556 1.435s.222.993.556 1.435c.333.33.888.551 1.444.551s1-.22 1.444-.551c.445-.332.556-.883.556-1.435zM51.444 51.448c.444-.441.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222.993.555 1.434c.333.331.889.552 1.445.552s1.11-.221 1.444-.552M56.385 56.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.424 0 .548.206.987.616 1.425.41.438.923.548 1.436.548.41.11.923-.11 1.333-.548M62.444 61.424c.333-.329.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.333.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.445.438.889.548 1.445.548.444.11 1-.11 1.444-.548M67.444 66.448c.333-.331.556-.883.556-1.435s-.223-1.103-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.434s.222.994.555 1.435C65 66.889 65.444 67 66 67s1-.221 1.445-.552M72.444 71.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.441-.555.883-.555 1.435s.222 1.103.555 1.434C70 71.889 70.444 72 71 72s1.112-.11 1.445-.552M77.444 76.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222 1.103.555 1.434c.333.331.889.552 1.444.552s1.112-.11 1.445-.552M82.385 82.424c.41-.438.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.425 0 .547.206.986.616 1.424.41.329.923.548 1.436.548.41.11.923-.11 1.333-.548M33.036 21c5.265-3.433 11.036-5.048 17.414-5.149 6.277 0 12.048 1.716 17.414 5.149L79.001 9.894C70.294 3.331 60.878 0 50.45 0 40.022 0 30.505 3.332 22.001 9.894L33.037 21zM21 66.742c-3.585-5.375-5.327-11.157-5.327-17.343 0-6.288 1.742-12.069 5.327-17.343L9.834 21.001C3.278 29.521 0 38.953 0 49.501c0 10.345 3.278 19.879 9.937 28.5L21 66.743zM67.964 78c-5.265 3.533-11.036 5.35-17.313 5.451-6.378 0-12.25-1.716-17.515-5.35L21.999 89.105c8.606 6.663 18.123 9.994 28.652 9.893 10.428-.1 19.844-3.432 28.348-9.893L67.963 78zM79 32.258c3.533 5.375 5.35 11.258 5.25 17.648-.102 6.187-1.818 11.867-5.25 17.039L90.105 78c6.562-8.52 9.893-17.952 9.893-28.297.101-10.548-3.23-20.082-9.893-28.703L79 32.258zM90 81c4.364 0 8 3.533 8 8 0 4.364-3.533 8-8 8-4.364 0-8-3.533-8-8s3.533-8 8-8M10 81c4.421 0 8 3.533 8 8 0 4.364-3.579 8-8 8-4.421 0-8-3.533-8-8s3.579-8 8-8M90 1c4.421 0 8 3.533 8 8 0 4.468-3.579 8-8 8s-8-3.533-8-8c0-4.468 3.579-8 8-8M10 1c4.364 0 8 3.579 8 8 0 4.421-3.533 8-8 8-4.364 0-8-3.579-8-8 0-4.421 3.533-8 8-8"}))))},mo=function(e){return d.createElement("div",{className:"token-symbol"},e.children)},fo=function(e){return d.createElement("div",{className:"token-symbol-combined "+(e.small?"small":"")},e.children)},go=function(e){var t=e.split("-");return e.includes("-")?t[0]+"-"+t[1]:e},ho=function(e,t){var n=e===Un();return{token:e,symbol:e?e.split("-")[0]:"",label:e,icon:function(){return function(e,t){return t?p.createElement("img",{className:"token-symbol-custom-token",src:t}):e?p.createElement(po,null):p.createElement(Ga.FontAwesomeIcon,{icon:Fa.faDiamond})}(n,t)}}},vo=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n),r.prototype.render=function(){return null},r}(p.Component);vo.Token=function(e){return p.createElement(p.Fragment,null,e.token)},vo.Symbol=function(e){return p.createElement(p.Fragment,null,ho(go(e.token),e.tokenAvatar).symbol)},vo.Label=function(e){return p.createElement(p.Fragment,null,ho(go(e.token),e.tokenAvatar).label)},vo.Icon=function(e){var t=ho(go(e.token),e.tokenAvatar).icon;return p.createElement("span",{className:Tr},e.combined?p.createElement(fo,{small:e.small},p.createElement(t,null)):p.createElement(mo,null,p.createElement(t,null)))};var bo=Ba((function(e){var t,n,r=e.data,a=e.highlight,o=e.isScCall,s=d.createElement(d.Fragment,null,r),i=a&&o?a.split("@"):[],c=i[0],l=i.slice(1);if(r&&a&&1===(t=r,n=a,[].concat(t.matchAll(new RegExp(n,"gi"))).map((function(e){return e.index}))).length)switch(!0){case r.startsWith(a):var u=r.split(a);s=d.createElement(d.Fragment,null,a,d.createElement("span",{className:"text-muted"},u[1]));break;case r.endsWith(a):var p=r.split(a);s=d.createElement(d.Fragment,null,d.createElement("span",{className:"text-muted"},p[0]),a);break;default:var m=r.split(a),f=m[1];s=d.createElement(d.Fragment,null,d.createElement("span",{className:"text-muted"},m[0]),d.createElement("span",{className:"highlighted"},a),d.createElement("span",{className:"text-muted"},f))}return d.createElement(d.Fragment,null,c&&d.createElement("div",{className:"form-group mb-0 data-field mw-100"},d.createElement("span",{className:"form-label text-secondary d-block"},"SC Call"),d.createElement("div",{"data-testid":"confirmScCall",className:"textarea sc-call form-control cursor-text mt-1 text-break-all"},[ct(c)].concat(l).join("@"))),d.createElement("div",{className:"form-group mb-0 data-field mw-100"},d.createElement("span",{className:"form-label text-secondary d-block"},"Data"),d.createElement("div",{"data-testid":"confirmData",className:"textarea form-control cursor-text mt-1 text-break-all"},r?s:"N/A")))})),xo=function(e){var t=e.onSignTransaction,n=e.handleClose,r=e.onPrev,a=e.title,o=e.waitingForDevice,s=e.currentTransaction,i=e.error,c=e.allTransactions,l=e.isLastTransaction,d=e.currentStep,m=e.className,f=Un();if(!s)return null;var g=s.transaction.getData().toString(),h=ra().network,v=s.transactionTokenInfo,b=v.tokenId,x=v.amount,w=v.type,y=v.multiTxData,E=v.receiver,k=Boolean(b&&ft({tokenId:b,erdLabel:f})),T=0===d,S="Sign & Continue";S=o?"Check your Ledger":S,S=l&&!o?"Sign & Submit":S,S=w&&y&&!g.endsWith(y)?"Continue":S;var N=pa({tokenId:s.transactionTokenInfo.tokenId}),I=N.tokenDenomination,C=N.tokenAvatar,L=gr({input:k?x:s.transaction.getValue().toString(),denomination:k?I:Number(h.egldDenomination),decimals:Number(h.decimals),showLastNonZeroDecimal:!1,addCommas:!0}),A=s.receiverScamInfo,M=c.length>1,R=kr(m,!0,{formGroup:"form-group text-left",formLabel:"form-label text-secondary",icon:"text-white",contentWrapper:"d-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3",tokenWrapper:"mb-3 mb-md-0 d-flex flex-column align-items-start",tokenLabel:"text-secondary text-left",tokenValue:"d-flex align-items-center mt-1",scamReport:"text-warning",scamReportIcon:"text-warning mr-1",tokenAmountLabel:"text-secondary text-left",tokenAmountValue:"d-flex align-items-center",dataFormGroup:"form-group text-left",errorMessage:"text-danger d-flex justify-content-center align-items-center",buttonsWrapper:"d-flex align-items-center justify-content-end mt-spacer",cancelButton:"btn btn-dark text-white flex-even mr-2",signButton:"btn "+(A?"btn-warning":"btn-primary")+" flex-even ml-2"});return p.createElement(Va,{icon:i?Fa.faTimes:Fa.faHourglass,iconClass:R.icon,iconBgClass:i?"bg-danger":"bg-warning",iconSize:"3x",className:m,title:a||"Confirm on Ledger",description:p.createElement(p.Fragment,null,s.transaction&&p.createElement(p.Fragment,null,M&&p.createElement(co,{totalSteps:c.length,currentStep:d+1,className:"mb-4"}),p.createElement("div",{className:R.formGroup,"data-testid":"transactionTitle"},p.createElement("div",{className:R.formLabel},"To: "),y?new u.Address(E).bech32():s.transaction.getReceiver().toString(),A&&p.createElement("div",{className:R.scamReport},p.createElement("span",null,p.createElement(Ga.FontAwesomeIcon,{icon:Fa.faExclamationTriangle,className:R.scamReportIcon}),p.createElement("small",null,A)))),p.createElement("div",{className:R.contentWrapper},p.createElement("div",{className:R.tokenWrapper},p.createElement("div",{className:R.tokenlabel},"Token"),p.createElement("div",{className:R.tokenValue},p.createElement(vo.Icon,{tokenAvatar:C,token:b||f}),p.createElement("div",{className:"mr-1"}),p.createElement(vo.Label,{token:b||f}))),p.createElement("div",null,p.createElement("div",{className:R.tokenAmountLabel},"Amount"),p.createElement("div",{className:R.tokenAmountValue},p.createElement("div",{className:"mr-1"},L),p.createElement(vo.Symbol,{token:b||f})))),p.createElement("div",{className:R.dataFormGroup},s.transaction.getData()&&p.createElement(bo,Object.assign({},{data:s.transaction.getData().toString(),highlight:y,isScCall:!b}))),i&&p.createElement("p",{className:R.errorMessage},i))),action:p.createElement("div",{className:R.buttonsWrapper},p.createElement("button",{id:"closeButton","data-testid":"closeButton",onClick:function(e){e.preventDefault(),T?n():r()},className:R.cancelButton},T?"Cancel":"Back"),p.createElement("button",{type:"button",className:R.signButton,id:"signBtn","data-testid":"signBtn",onClick:t,disabled:o},S))})},wo=function(e){var t=e.handleClose,n=e.error,r=e.className,a=void 0===r?"device-modal":r,o=e.verifyReceiverScam,s=e.title,i=void 0===s?"Confirm transaction":s,c=va({onCancel:t,verifyReceiverScam:void 0===o||o}),l=c.onSignTransaction,u=c.onNext,d=c.onPrev,m=c.allTransactions,f=c.waitingForDevice,g=c.onAbort,h=c.isLastTransaction,v=c.currentStep,b=c.callbackRoute,w=c.currentTransaction,y=kr(a,!0,{wrapper:"modal-container wallet-connect",container:"card container",cardBody:"card-body"});return p.createElement(x.Modal,{show:null!=w,backdrop:"static",onHide:t,className:Er(y.wrapper,Tr),animation:!1,centered:!0},p.createElement("div",{className:y.container},p.createElement("div",{className:y.cardBody},p.createElement(xo,Object.assign({},{onSignTransaction:l,onNext:u,onPrev:d,allTransactions:m,waitingForDevice:f,isLastTransaction:h,currentStep:v,callbackRoute:b,currentTransaction:w,handleClose:g,className:a,error:n,title:i})))))},yo=function(e){return p.createElement(wo,Object.assign({},e,{title:e.title||"Confirm on Ledger",className:e.className||"ledger-modal"}))},Eo=function(e){var t=e.error,n=e.handleClose,r=e.callbackRoute,a=e.transactions,o=e.className,s=void 0===o?"wallet-connect-modal":o,i=kr(s,!0,{wrapper:"modal-container wallet-connect",icon:"text-white",closeBtn:"btn btn-close-link mt-2"}),c=t||"Check your phone to sign the transaction"+(a&&(null==a?void 0:a.length)>1?"s":""),l=function(e){e.preventDefault(),n(),null==r||window.location.pathname.includes(r)||(window.location.href=r)};return p.createElement(x.Modal,{show:!0,backdrop:"static",onHide:l,className:Er(i.wrapper,Tr),animation:!1,centered:!0},p.createElement(Va,{icon:t?Fa.faTimes:Fa.faHourglass,iconClass:i.icon,className:s,iconBgClass:t?"bg-danger":"bg-warning",iconSize:"3x",title:"Confirm on Maiar",description:c,action:p.createElement("button",{id:"closeButton","data-testid":"closeButton",onClick:l,className:i.closeBtn},"Close")}))};function ko(e){var t=e.className,n=e.CustomConfirmScreens,r=e.verifyReceiverScam,a=void 0===r||r,o=ia(),s=o.callbackRoute,i=o.transactions,c=o.error,l=o.sessionId,u=o.onAbort,d=o.hasTransactions,m=ga().providerType,f=ba(),g=fa(),h=c||f,v={handleClose:function(){u(l)},error:h,sessionId:l,transactions:i,providerType:m,callbackRoute:s,className:t,verifyReceiverScam:a};if(h||d)switch(g.loginMethod){case exports.LoginMethodsEnum.ledger:return p.createElement(null!=n&&n.Ledger?n.Ledger:yo,Object.assign({},v));case exports.LoginMethodsEnum.walletconnect:return p.createElement(null!=n&&n.WalletConnect?n.WalletConnect:Eo,Object.assign({},v));case exports.LoginMethodsEnum.extension:return p.createElement(null!=n&&n.Extension?n.Extension:lo,Object.assign({},v));case exports.LoginMethodsEnum.extra:return null!=n&&n.Extra?p.createElement(n.Extra,Object.assign({},v)):null;default:return null}return null}var To,So=Ba(ko);!function(e){e.toasts="toasts"}(To||(To={}));var No=Ba((function(e){var t=e.icon,n=e.iconSize,r=void 0===n?"3x":n,a=e.className,o=void 0===a?"icon-state":a,s=e.shouldRenderDefaultCss,i=kr(o,void 0===s||s,{wrapper:Er("icon-state mx-auto",o,{half:"2x"===r}),icon:Er("text-white",o)});return p.createElement("span",{className:i.wrapper},p.createElement(Ga.FontAwesomeIcon,{icon:t,size:r,className:i.icon}))})),Io=Ba((function(e){var t=e.id,n=e.children,r=e.progress,a=e.done,o=e.expiresIn,s=void 0===o?600:o,i=p.useRef(null),c=p.useRef(),l=function(e){var n=e.value,r=ue.session.getItem("toastProgress")||{};r[t]=n,ue.session.setItem({key:"toastProgress",data:r,expires:ae().add(s,"seconds").unix()})},u=function(){var e=r?r.endTime-r.startTime:0,n=ue.session.getItem("toastProgress"),a=r?100*(r.endTime-ae().unix())/e:0;return{currentRemaining:n&&t in n?n[t]:a,totalSeconds:e}}(),d=u.totalSeconds,m=p.useState(u.currentRemaining),f=m[0],g=m[1];return p.useEffect((function(){if(r){var e=ae.duration((d/90).toFixed(2),"s").asMilliseconds();return c.current=a?setInterval((function(){null!==i.current&&g((function(e){var n=e-1;return n<=0?(clearInterval(c.current),function(){var e=ue.session.getItem("toastProgress");if(Boolean(null==e?void 0:e[t])){var n=ae().add(s,"seconds").unix();delete e[t],ue.session.setItem({key:"toastProgress",data:e,expires:n})}}(),0):(l({value:n}),n)}))}),5):setInterval((function(){null!==i.current&&g((function(e){var t=e-(e>10?1:lr(e));return l({value:t}),t}))}),e),function(){clearInterval(c.current)}}}),[r,a]),r?p.createElement("div",{className:"progress position-relative",ref:i},p.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:f+"%"},"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100},p.createElement("div",{className:"content-height"},n)),p.createElement("div",{className:"d-flex position-absolute w-100"},n)):p.createElement(p.Fragment,null,n)}));function Co(e){var t=!1,n=document.createElement("textarea");n.value=e,n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),t=!0}catch(e){console.error("Fallback: Oops, unable to copy",e)}return document.body.removeChild(n),t}function Lo(e){return Ao.apply(this,arguments)}function Ao(){return(Ao=k(O.mark((function e(t){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,navigator.clipboard){e.next=5;break}n=Co(t),e.next=8;break;case 5:return e.next=7,navigator.clipboard.writeText(t).then((function(){return!0}),(function(e){return console.error("Async: Could not copy text: ",e),!1}));case 7:n=e.sent;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mo=Ba((function(e){var t=e.text,n=e.className,r=void 0===n?"":n,a=p.useState({default:!0,success:!1}),o=a[0],s=a[1];return p.createElement("a",{href:"/#",onClick:function(){var e=k(O.mark((function e(n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.stopPropagation(),r=t?t.trim():t,e.t0=s,e.next=6,Lo(r);case 6:e.t1=e.sent,e.t2={default:!1,success:e.t1},(0,e.t0)(e.t2),setTimeout((function(){s({default:!0,success:!1})}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"side-action text-secondary "+r},p.createElement(Ga.FontAwesomeIcon,o.default||!o.success?{icon:Fa.faCopy}:{icon:Fa.faCheck,className:"text-primary-highlight"}))})),Ro=Ba((function(e){var t=e.text,n=e.dataTestId,r=void 0===n?"":n,a=p.useState(!1),o=a[0],s=a[1],i=p.useRef(document.createElement("span")),c=p.useRef(document.createElement("span")),l=d.useCallback(y((function(){i.current&&c.current&&s(c.current.offsetWidth-i.current.offsetWidth>1)}),300),[]);return p.useEffect((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}})),p.useEffect((function(){l()}),[]),p.createElement("span",{ref:i,className:"trim "+(o?"overflow":""),"data-testid":r},p.createElement("span",{ref:c,className:"hidden-text-ref"},t),o?p.createElement(p.Fragment,null,p.createElement("span",{className:"left"},p.createElement("span",null,String(t).substring(0,Math.floor(t.length/2)))),p.createElement("span",{className:"ellipsis"},"..."),p.createElement("span",{className:"right"},p.createElement("span",null,String(t).substring(Math.ceil(t.length/2))))):p.createElement("span",null,t))})),Do=Ba((function(e){var t=e.title,n=e.transactions,r=e.className,a=e.isTimedOut,o=void 0!==a&&a,s=e.shouldRenderDefaultCss,i=kr(void 0===r?"tx-details":r,void 0===s||s,{title:"mb-0",statusTransactions:"mb-2 mt-1",iconSuccess:"mr-1 text-secondary",iconFailed:"mr-1 text-secondary",trimContainer:"text-nowrap trim-fs-sm mr-3",iconPending:"mr-1 text-secondary fa-spin slow-spin",item:"tx-description d-flex justify-content-start align-items-center"}),c={icon:Fa.faCheck,classNames:i.iconSuccess},l={icon:Fa.faTimes,classNames:i.iconSuccess},u={pending:{icon:Fa.faCircleNotch,classNames:i.iconPending},success:c,completed:c,fail:l,invalid:l,timedOut:l};return p.createElement(p.Fragment,null,t&&p.createElement("div",{className:i.title},t),p.createElement("div",{className:i.statusTransactions},n.filter((function(e){return!ot(e.status)})).length," ","/ ",n.length," transactions processed"),n.map((function(e){var t=e.hash,n=e.status,r=u[n];return p.createElement("div",{className:i.item,key:t},!o&&null!=r&&p.createElement(Ga.FontAwesomeIcon,{icon:r.icon,className:r.classNames}),p.createElement("span",{className:i.trimContainer,style:{width:"10rem"}},p.createElement(Ro,{text:t})),p.createElement(Mo,{text:t}),!ot(n)&&p.createElement(qa,{page:"/transactions/"+t,className:"ml-2"}))})))})),Bo=Ba((function(e){var t=e.toastId,n=e.title,r=void 0===n?"":n,a=e.shouldRenderDefaultCss,o=void 0===a||a,s=e.className,i=void 0===s?"transaction-toast":s,c=e.withTxNonce,l=void 0!==c&&c,m=e.transactions,f=e.status,g=e.onClose,h=e.startTimeProgress,v=e.endTimeProgress,b=e.lifetimeAfterSuccess,w=d.useRef(null),y=d.useState(!0),E=y[0],k=y[1],T=oa(t),S=Ir(Yt),N=T.errorMessage,I=void 0===N?"Transaction failed":N,C=T.timedOutMessage,L=void 0===C?"Transaction timed out":C,A=T.successMessage,M=void 0===A?"Transaction successful":A,R=T.processingMessage,D=void 0===R?"Processing transaction":R,B=d.useMemo((function(){return m.reduce((function(e,t){var n=wr({receiver:t.receiver,data:t.data});return null==n?e:e&&function(e){var t=e.receiverAddress,n=e.senderShard,r=e.senderAddress;try{var a=new u.Address(t),o=ir(a.pubkey());if(null==n&&null!=r){var s=new u.Address(r);return ir(s)===o}return o===n}catch(e){return!1}}({receiverAddress:n,senderShard:S})}),!0)}),[m,S]),_=(null==T?void 0:T.transactionDuration)||(B?6e3:3e4),O=kr(i,o,{toastFooter:"mb-0 text-break",details:"media-body flex-grow-1",toastContainer:"w-100 media p-2",wrapper:"toast-visible clickable",toastHeader:"d-flex justify-content-between mb-1",iconContainer:"align-self-center ml-2 mr-2 pr-1",title:"m-0 font-weight-normal text-nowrap text-truncate",closeButton:"close d-flex side-action align-items-center mx-2 outline-0"}),P=d.useMemo((function(){return[h||ae().unix(),v||ae().add(Number(_),"milliseconds").unix()]}),[]),F={startTime:P[0],endTime:P[1]},j={id:t,icon:Fa.faCheck,expires:3e4,hasCloseButton:!0,title:M,iconClassName:"bg-success"},W={id:t,expires:!1,icon:Fa.faHourglass,hasCloseButton:!1,title:D,iconClassName:"bg-warning"},z={id:t,icon:Fa.faTimes,title:I,hasCloseButton:!0,iconClassName:"bg-danger"},G={id:t,icon:Fa.faTimes,title:L,hasCloseButton:!0,iconClassName:"bg-warning"},q=Xe(f),U=et(f),H={signed:W,sent:W,pending:W,success:j,completed:j,cancelled:z,fail:z,timedOut:G}[f];return E&&null!=m?p.createElement(x.Toast,{ref:w,className:O.wrapper,key:t},p.createElement(Io,{key:t,id:t,progress:F,expiresIn:b,done:!q||U},p.createElement("div",{className:O.toastContainer},p.createElement("div",{className:O.iconContainer},p.createElement(No,{iconSize:"2x",icon:H.icon,className:H.iconClassName}),l&&m.map((function(e){return p.createElement("p",{key:e.nonce.valueOf()},e.nonce.valueOf())}))),p.createElement("div",{className:O.details,style:{minWidth:0}},p.createElement("div",{className:O.toastHeader},p.createElement("h5",{className:O.title},H.title),!q&&p.createElement("button",{type:"button",className:O.closeButton,onClick:function(){k(!1),null==g||g(t)}},p.createElement(Ga.FontAwesomeIcon,{icon:Fa.faTimes,size:"xs"}))),p.createElement("div",{className:O.toastFooter},p.createElement(Do,{transactions:m,title:r,isTimedOut:U})))))):null}));function _o(e){var t=e.shouldRenderDefaultCss,n=void 0===t||t,r=e.withTxNonce,a=void 0!==r&&r,o=e.className,s=void 0===o?"transactions-toast-list":o,i=e.pendingTransactions,c=e.signedTransactions,l=e.successfulToastLifetime,u=d.useState([]),m=u[0],f=u[1],g=Gr().pendingTransactions,h=ca().signedTransactions,v=i||g,b=c||h,x=kr(s,n,{wrapper:"toast-messages d-flex flex-column align-items-center justify-content-sm-end",toast:""}),w=null==m?void 0:m.map((function(e){var t=b[e];return null==t||null==(null==t?void 0:t.transactions)||null==(null==t?void 0:t.status)?null:p.createElement(Bo,{className:s,key:e,transactions:t.transactions,status:t.status,toastId:e,withTxNonce:a,lifetimeAfterSuccess:l})}));return d.useEffect((function(){return function(){var e=function(){var e=sessionStorage.getItem(To.toasts);return null!=e?JSON.parse(e):[]}();if(e){var t=[].concat(m,e);f(t)}}(),function(){Boolean(m.length)&&sessionStorage.setItem(To.toasts,JSON.stringify(m))}}),[]),d.useEffect((function(){!function(){var e=[].concat(m);for(var t in v)m.includes(t)||e.push(t);f(e)}()}),[v]),p.createElement("div",{className:x.wrapper},w)}var Oo=Ba(_o),Po=["amount","usd"],Fo={};try{Fo=require("platform")}catch(e){}var jo=Fo,Wo={};try{Wo=require("qrcode")}catch(e){}var zo,Go=Wo;function qo(){return(qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Uo=function(e){return d.createElement("svg",qo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31.114 44.981",width:16,height:16},e),zo||(zo=d.createElement("g",{fillRule:"evenodd",fill:"#fff"},d.createElement("path",{d:"m20.547 1.001-3.832 17.8H7.054Z"}),d.createElement("path",{d:"m31.41 17.802-7.053 9.379H0l7.054-9.379Z"}),d.createElement("path",{d:"m24.357 26.18-13.493 17.8 3.832-17.8Z"}))))};function Ho(e){var t,n,r=e.loginButtonText,a=e.title,o=void 0===a?"Maiar Login":a,s=e.logoutRoute,i=e.className,c=void 0===i?"wallect-connect-login-modal":i,l=e.lead,u=void 0===l?"Scan the QR code using Maiar":l,m=e.shouldRenderDefaultCss,f=void 0===m||m,g=e.wrapContentInsideModal,h=void 0===g||g,v=e.onClose,b=Br({logoutRoute:void 0===s?"/unlock":s,callbackRoute:e.callbackRoute,token:e.token,redirectAfterLogin:e.redirectAfterLogin,shouldLoginUser:!0}),x=b[0],w=b[1].error,y=b[2],E=y.uriDeepLink,T=y.walletConnectUri,S=d.useState(""),N=S[0],I=S[1],C="iOS"===(null==jo||null==(t=jo.os)?void 0:t.family)||"Android"===(null==jo||null==(n=jo.os)?void 0:n.family),L=kr(c,f,{wrapper:"btn btn-primary px-sm-4 m-1 mx-sm-3",loginText:"text-left",container:"m-auto login-container",card:"card my-3 text-center",cardBody:"card-body p-4 mx-lg-4",qrCodeSvgContainer:"mx-auto mb-3",title:"mb-3",leadText:"lead mb-0",mobileLoginButton:"btn btn-primary d-inline-flex align-items-center px-4 mt-4",mobileLoginButtonIcon:"mr-2",errorMessage:"text-danger d-flex justify-content-center align-items-center"}),A=function(){var e=k(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Go.toString(T,{type:"svg"});case 4:I(e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d.useEffect((function(){A()}),[T]),d.useEffect((function(){x()}),[]);var M=p.createElement("div",{className:L.container},p.createElement("div",{className:L.root},p.createElement("div",{className:L.card},p.createElement("div",{className:L.cardBody},p.createElement("div",{className:L.qrCodeSvgContainer,dangerouslySetInnerHTML:{__html:N},style:{width:"15rem",height:"15rem"}}),p.createElement("h4",{className:L.title},o),C?p.createElement(p.Fragment,null,p.createElement("p",{className:L.leadText},r),p.createElement("a",{id:"accessWalletBtn","data-testid":"accessWalletBtn",className:L.mobileLoginButton,href:E||void 0,rel:"noopener noreferrer nofollow",target:"_blank"},p.createElement(Uo,{className:L.mobileLoginButtonIcon,style:{width:"0.9rem",height:"0.9rem"}}),o)):p.createElement("p",{className:L.leadText},u),p.createElement("div",null,w&&p.createElement("p",{className:L.errorMessage},w))))));return h?p.createElement(Ha,{title:"Login with Maiar",className:c,onClose:v},M):M}var Vo=Ba(Ho),Zo=Ba((function(e){var t=e.children,n=e.callbackRoute,r=e.onModalOpens,a=e.onModalCloses,o=e.loginButtonText,s=void 0===o?"Maiar App":o,i=e.title,c=void 0===i?"Maiar Login":i,l=e.logoutRoute,u=void 0===l?"/unlock":l,m=e.shouldRenderDefaultCss,f=void 0===m||m,g=e.wrapContentInsideModal,h=void 0===g||g,v=e.redirectAfterLogin,b=void 0!==v&&v,x=e.buttonClassName,w=e.className,y=void 0===w?"wallect-connect-login":w,E=e.lead,k=void 0===E?"Scan the QR code using Maiar":E,T=e.token,S=e.hideButtonWhenModalOpens,N=void 0!==S&&S,I=d.useState(!1),C=I[0],L=I[1],A=kr(y,f,{wrapper:"btn btn-primary px-sm-4 m-1 mx-sm-3 "+(null!=x?x:""),loginText:"text-left"});return p.createElement(d.Fragment,null,(!N||!C)&&p.createElement("button",{onClick:function(){L(!0),null==r||r()},className:A.wrapper},t||p.createElement("span",{className:A.loginText},s)),C&&p.createElement(Vo,{callbackRoute:n,loginButtonText:s,title:c,token:T,className:y,logoutRoute:u,lead:k,wrapContentInsideModal:h,redirectAfterLogin:b,onClose:function(){L(!1),null==a||a()}}))})),Ko=Ba((function(e){var t=e.children,n=e.className,r=void 0===n?"web-wallet-login":n,a=e.buttonClassName,o=e.loginButtonText,s=void 0===o?"Elrond Web Wallet":o,i=e.shouldRenderDefaultCss,c=void 0===i||i,l=Lr({callbackRoute:e.callbackRoute,token:e.token})[0],u=kr(r,c,{wrapper:"btn btn-primary px-sm-4 m-1 mx-sm-3 "+(null!=a?a:""),loginText:"text-left"});return p.createElement("button",{onClick:function(){l()},className:u.wrapper},t||p.createElement("span",{className:u.loginText},s))})),Yo={__proto__:null,ExplorerLink:qa,Denominate:Oa,PageState:Va,ExtensionLoginButton:Ua,LedgerLoginButton:ro,LedgerLoginContainer:no,NotificationModal:function(){var e=aa(),t=e.notification,n=e.clearNotification,r=Boolean(t);return t?p.createElement(x.Modal,{show:r,backdrop:!0,onHide:t,className:"modal-container "+Tr,animation:!1,centered:!0},p.createElement("div",{className:"card w-100 notification-modal"},p.createElement(Va,{icon:t?oo[null==t?void 0:t.type]||so:null,iconClass:t.iconClassName,iconBgClass:"p-4 rounded-bg-circle",iconSize:"3x",title:t.title,description:t.description,action:p.createElement("button",{className:"btn btn-primary",onClick:function(){n()}},"Done")}))):null},SignTransactionsModals:So,SignWithLedgerModal:yo,SignWithDeviceModal:wo,SignWithExtensionModal:lo,TransactionsToastList:Oo,TransactionToast:Bo,WalletConnectLoginButton:Zo,WalletConnectLoginContainer:Vo,WebWalletLoginButton:Ko,Trim:Ro,UsdValue:function(e){var t=e.amount,n=e.usd,r=N(e,Po),a=" $"+vr({amount:t,usd:n});return d.createElement("small",Object.assign({className:"form-text text-secondary mt-0"},r),""+t=="0"?"= $0":a)},ProgressSteps:co,DappCorePages:{__proto__:null,UnlockPage:Ba((function(e){var t=e.loginRoute,n=e.title,r=void 0===n?"Login":n,a=e.className,o=e.shouldRenderDefaultCss,s=e.LedgerLoginButtonText,i=void 0===s?"Ledger":s,c=e.description,l=void 0===c?"Pick a login method":c,u=e.WalletConnectLoginButtonText,d=void 0===u?"Maiar":u,m=e.ExtensionLoginButtonText,f=void 0===m?"Extension":m,g=e.WebWalletLoginButtonText,h=void 0===g?"Web wallet":g,v=kr(void 0===a?"unlock-page":a,void 0===o||o,{wrapper:"home d-flex flex-fill align-items-center "+Tr,title:"mb-4",description:"mb-4",cardContainer:"m-auto",card:"card my-4 text-center",cardBody:"card-body py-4 px-2 px-sm-2 mx-lg-4"}),b=fa().isLoggedIn;return p.useEffect((function(){b&&(window.location.href=t)}),[b]),p.createElement("div",{className:v.wrapper},p.createElement("div",{className:v.cardContainer},p.createElement("div",{className:v.card},p.createElement("div",{className:v.cardBody},p.createElement("h4",{className:v.title},r),p.createElement("p",{className:v.description},l),p.createElement(Ua,{callbackRoute:t,loginButtonText:f}),p.createElement(Ko,{callbackRoute:t,loginButtonText:h}),p.createElement(ro,{loginButtonText:i,callbackRoute:t}),p.createElement(Zo,{callbackRoute:t,loginButtonText:d})))))}))}},Jo=null,Xo=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];exports.AppInitializer=La,exports.AuthenticatedRoutesWrapper=function(e){var t=e.children,n=e.routes,r=e.unlockRoute,a=e.onRedirect,o=Ir(en),s=Ir(Xt),i=Ir(rn),c=window.location.pathname,l=d.useRef(n.filter((function(e){return Boolean(e.authenticatedRoute)}))).current.some((function(e){return c===e.path}));return s||i?null:l&&!o&&null==i?(a?a(r):window.location.href=r,null):p.createElement(p.Fragment,null,t)},exports.DappProvider=function(e){var t=e.children,n=e.customNetworkConfig,r=void 0===n?{}:n,a=e.externalProvider,o=e.environment,s=e.customComponents;if(!o)throw new Error("missing environment flag");return null!=a&&J(a),p.createElement(m.Provider,{context:Sr,store:gn},p.createElement(f.PersistGate,{persistor:hn,loading:null},p.createElement(La,{environment:o,customNetworkConfig:r},p.createElement(Vr,null),p.createElement(Ra,{customComponents:s}),t)))},exports.DappUI=Yo,exports.ESDTTransferTypes=br,exports.addressIsValid=dt,exports.apiCalls=na,exports.buildUrlParams=function(e,t){var n=new URLSearchParams(e),r=Object.fromEntries(n);return{nextUrlParams:new URLSearchParams(T({},r,t)).toString(),params:r}},exports.builtCallbackUrl=gt,exports.calculateFeeLimit=hr,exports.completedServerTransactionsStates=Ke,exports.constants=W,exports.decodeBase64=function(e){return atob(e)},exports.decodePart=ct,exports.denominate=gr,exports.encodeToBase64=function(e){return btoa(e)},exports.failBatchTransactionsStates=Ue,exports.failServerTransactionsStates=Ye,exports.fallbackNetworkConfigurations=F,exports.getAccount=Qn,exports.getAccountBalance=nr,exports.getAccountProvider=X,exports.getAccountProviderType=qn,exports.getAddress=Vn,exports.getAddressFromDataField=wr,exports.getApiProvider=function(){return null==Jo?(e=yn(gn.getState()),Jo=new t.ApiProvider(e.apiAddress,{timeout:Number(e.apiTimeout)})):Jo;var e},exports.getChainID=function(){return bn(gn.getState())},exports.getEgldLabel=Un,exports.getExternalProvider=function(){return K},exports.getGeneratedClasses=kr,exports.getIdentifierType=mr,exports.getIsLoggedIn=jn,exports.getIsProviderEqualTo=Hn,exports.getIsTransactionCompleted=Je,exports.getIsTransactionFailed=Qe,exports.getIsTransactionPending=Xe,exports.getIsTransactionSuccessful=$e,exports.getIsTransactionTimedOut=et,exports.getLatestNonce=tr,exports.getMnemonicWords=function(){return Xo},exports.getNetworkConfig=function(){return yn(gn.getState())},exports.getProxyProvider=Yn,exports.getShardOfAddress=ir,exports.getTokenFromData=mt,exports.getUsdValue=vr,exports.isBatchTransactionFailed=rt,exports.isBatchTransactionPending=tt,exports.isBatchTransactionSuccessful=nt,exports.isBatchTransactionTimedOut=at,exports.isContract=function(e,n,r){if(void 0===r&&(r=""),!dt(e))return!1;if(new t.Address(e).isContractAddress())return!0;var a=wr({receiver:e,data:r});return!!a&&(new t.Address(a).isContractAddress()||xr(e,n,r))},exports.isSelfESDTContract=xr,exports.isServerTransactionFailed=it,exports.isServerTransactionPending=ot,exports.isServerTransactionSuccessful=st,exports.isStringBase64=lt,exports.isTokenTransfer=ft,exports.logarithmicRest=lr,exports.loginServices=_r,exports.loginWithExternalProvider=function(e){gn.dispatch(Q({address:e,loginMethod:exports.LoginMethodsEnum.extra}))},exports.logout=Wn,exports.models=Da,exports.nominate=function(e,t){return u.createBalanceBuilder(new u.Token({decimals:t||18,type:u.TokenType.Fungible}))(e).toString()},exports.parseMultiEsdtTransferData=ut,exports.parseTransactionAfterSigning=ht,exports.pendingBatchTransactionsStates=Ge,exports.pendingServerTransactionsStatuses=Ve,exports.pipe=fr,exports.refreshAccount=or,exports.sendTransactions=Wr,exports.setNonce=er,exports.signMessage=function(e){return cr.apply(this,arguments)},exports.storage=ue,exports.stringIsFloat=dr,exports.stringIsInteger=ur,exports.successBatchTransactionsStates=qe,exports.successServerTransactionsStates=Ze,exports.switchTrue=function(e){var t=T({default:e.default},N(e,Gn));return Object.keys(t).reduce((function(e,n){var r;return T({},e,((r={})["default"===n?"true":n]=t[n],r))}),{}).true},exports.timedOutBatchTransactionsStates=He,exports.transactionServices=Hr,exports.useCheckTransactionStatus=Na,exports.useGetAccountInfo=ma,exports.useGetAccountProvider=ga,exports.useGetLoginInfo=fa,exports.useGetNetworkConfig=ra,exports.useGetNotification=aa,exports.useGetPendingTransactions=Gr,exports.useGetSignTransactionsError=ba,exports.useGetSignedTransactions=ca,exports.useGetTokenDetails=pa,exports.useGetTransactionDisplayInfo=oa,exports.useIdleTimer=function(e){var t=e.minutes,n=void 0===t?10:t,r=e.onLogout,a=jn(),o=r||Wn,s=function(e){return 6e4*e}(n);v.useIdleTimer({timeout:s,onIdle:function(){a&&o()},debounce:500})},exports.useParseMultiEsdtTransferData=Ur,exports.useParseSignedTransactions=sa,exports.useSignTransactions=ia,exports.useSignTransactionsWithDevice=va,exports.useSignTransactionsWithLedger=function(e){return va(e)},exports.useUpdateEffect=Rr,exports.wrapperClassName=Tr;
//# sourceMappingURL=dapp-core.cjs.production.min.js.map
